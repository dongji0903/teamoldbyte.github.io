!function(t){var o,i,r,h,n,e,s=100,a=["webkit","moz",""],p=document.documentElement,_=p.style;function c(t){for(var e,i=0;i<a.length;i++)if((e=(e=a[i])?e+((e=t).slice(0,1).toUpperCase()+e.slice(1)):t)in _)return e}function u(t){return Math.round(t*s)/s}function l(t){return Math.max(0,Math.min(1,t))}function d(t,e,i){return(t-e)/(i-e)}function f(t){return"peel-"+t}function g(t,e){t.style[i]=e}function y(t,e,i,n,o){return u(t)+"px "+u(e)+"px "+u(i)+"px "+(n?u(n)+"px ":"")+"rgba(0,0,0,"+u(o)+")"}function w(t,e){t.style.opacity=e}function b(t,e,i){n&&(e=0===i.length?"none":"linear-gradient("+u(e)+"deg,"+i.join(",")+")",t.style.backgroundImage=e)}function S(t,e,i){t.addEventListener(e,i)}function O(t,e,i){t.removeEventListener(e,i)}function P(t,e){t=t.changedTouches?t.changedTouches[0]:t;return{x:t.clientX-e.offsetLeft+window.scrollX,y:t.clientY-e.offsetTop+window.scrollY}}function m(t,e){return v(0,0,0,t,e)}function L(t,e){return v(255,255,255,t,e)}function v(t,e,i,n,o){return"rgba("+t+","+e+","+i+","+(n=u(l(n)))+") "+u(100*o)+"%"}function C(t,e){return t="string"==typeof t?(e||document).querySelector(t):t}function x(t,e){t.classList.add(e)}function T(t,e,i){e=e||p;var n,o=document.createElementNS("http://www.w3.org/2000/svg",t);for(n in e.appendChild(o),i)i.hasOwnProperty(n)&&E(o,n,i[n]);return o}function E(t,e,i){t.setAttributeNS(null,e,i)}function k(t,e){this.setOptions(e),this.el=C(t,p),this.constraints=[],this.events=[],this.setupLayers(),this.setupDimensions(),this.setCorner(this.getOption("corner")),this.setMode(this.getOption("mode")),this.init()}function R(t,e){this.el=t,this.shape=R.createClipPath(t,e||{type:"polygon"}),g(this.el,"translate(0px,0px)")}function A(t,e){this.center=t,this.radius=e}function D(){this.points=[]}function B(t,e,i,n){this.p1=t,this.c1=e,this.p2=n,this.c2=i}function I(t,e){this.p1=t,this.p2=e}function M(t,e){this.x=t,this.y=e}k.Corners={TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_LEFT:2,BOTTOM_RIGHT:3},k.Defaults={topShadow:!0,topShadowBlur:5,topShadowAlpha:.5,topShadowOffsetX:0,topShadowOffsetY:1,topShadowCreatesShape:!0,backReflection:!1,backReflectionSize:.02,backReflectionOffset:0,backReflectionAlpha:.15,backReflectionDistribute:!0,backShadow:!0,backShadowSize:.04,backShadowOffset:0,backShadowAlpha:.1,backShadowDistribute:!0,bottomShadow:!0,bottomShadowSize:1.5,bottomShadowOffset:0,bottomShadowDarkAlpha:.7,bottomShadowLightAlpha:.1,bottomShadowDistribute:!0,setPeelOnInit:!0,clippingBoxScale:4,flipConstraintOffset:5,dragPreventsDefault:!0},k.prototype.setCorner=function(){var t=arguments;void 0===t[0]?t=[k.Corners.BOTTOM_RIGHT]:t[0].length&&(t=t[0]),this.corner=this.getPointOrCorner(t)},k.prototype.setMode=function(t){"book"===t?(this.addPeelConstraint(k.Corners.BOTTOM_LEFT),this.addPeelConstraint(k.Corners.TOP_LEFT),this.setOption("backReflection",!1),this.setOption("backShadowDistribute",!1),this.setOption("bottomShadowDistribute",!1)):"calendar"===t&&(this.addPeelConstraint(k.Corners.TOP_RIGHT),this.addPeelConstraint(k.Corners.TOP_LEFT))},k.prototype.setPeelPath=function(t,e){var i,n,o=arguments,t=new M(t,e);4===o.length?(i=new M(o[2],o[3]),this.path=new I(t,i)):8===o.length&&(e=new M(o[2],o[3]),n=new M(o[4],o[5]),i=new M(o[6],o[7]),this.path=new B(t,e,n,i))},k.prototype.handleDrag=function(t,e){this.dragHandler=t,this.setupDragEvents(e)},k.prototype.handlePress=function(t,e){this.pressHandler=t,this.setupDragEvents(e)},k.prototype.setupDragEvents=function(t){var i,n,o,s=this;function e(t,e){s.getOption("dragPreventsDefault")&&e.preventDefault(),o=t?"touchend":"mouseup",S(p,n=t?"touchmove":"mousemove",r),S(p,o,h),i=!1}function r(t){s.dragHandler&&a(s.dragHandler,t),i=!0}function h(t){!i&&s.pressHandler&&a(s.pressHandler,t),O(p,n,r),O(p,o,h)}function a(t,e){var i=P(e,s.el);t.call(s,e,i.x,i.y)}this.dragEventsSetup||(t=t||this.el,this.addEvent(t,"mousedown",e.bind(this,!1)),this.addEvent(t,"touchstart",e.bind(this,!0)),this.dragEventsSetup=!0)},k.prototype.removeEvents=function(){this.events.forEach(function(t,e){O(t.el,t.type,t.handler)}),this.events=[]},k.prototype.setTimeAlongPath=function(t){t=l(t);var e=this.path.getPointForTime(t);this.timeAlongPath=t,this.setPeelPosition(e.x,e.y)},k.prototype.setFadeThreshold=function(t){this.fadeThreshold=t},k.prototype.setPeelPosition=function(){var t=this.getPointOrCorner(arguments);(t=this.getConstrainedPeelPosition(t))&&(this.peelLineSegment=this.getPeelLineSegment(t),this.peelLineRotation=this.peelLineSegment.getAngle(),this.setClipping(),this.setBackTransform(t),this.setEffects())},k.prototype.addPeelConstraint=function(){var t=this.getPointOrCorner(arguments),e=this.corner.subtract(t).getLength();this.constraints.push(new A(t,e)),this.calculateFlipConstraint()},k.prototype.setOption=function(t,e){this.options[t]=e},k.prototype.getOption=function(t){return this.options[t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})]},k.prototype.getAmountClipped=function(){return d(this.getTopClipArea(),this.width*this.height,0)},k.prototype.addEvent=function(t,e,i){return S(t,e,i),this.events.push({el:t,type:e,handler:i}),i},k.prototype.getTopClipArea=function(){var e=new D;return this.elementBox.forEach(function(t){this.distributeLineByPeelLine(t,e)},this),D.getArea(e.getPoints())},k.prototype.calculateFlipConstraint=function(){var i=this.corner,t=this.constraints.concat();this.flipConstraint=t.sort(function(t,e){i.y,t.center.y,i.y,e.center.y;return t-e})[0]},k.prototype.dragStart=function(t,e,i){},k.prototype.fireHandler=function(t,e){var i=P(t,this.el);e.call(this,t,i.x,i.y)},k.prototype.setClipping=function(){var e=new D,i=new D;this.clippingBox.forEach(function(t){this.distributeLineByPeelLine(t,e,i)},this),this.topClip.setPoints(e.getPoints()),this.backClip.setPoints(i.getPoints())},k.prototype.distributeLineByPeelLine=function(t,e,i){var n=this.peelLineSegment.getIntersectPoint(t);this.distributePointByPeelLine(t.p1,e,i),this.distributePointByPeelLine(n,e,i)},k.prototype.distributePointByPeelLine=function(t,e,i){var n;t&&((n=this.peelLineSegment.getPointDeterminant(t))<=0&&e.addPoint(t),0<=n)&&i&&i.addPoint(this.flipPointHorizontally(t))},k.prototype.setOptions=function(t){var e,i=t||{},n=k.Defaults;for(e in n)!n.hasOwnProperty(e)||e in i||(i[e]=n[e]);this.options=i},k.prototype.findOrCreateLayer=function(t,e,i){var n,o=f(t),t=C(this.getOption(t+"-element")||"."+o,e);return t||(e=e,o=o,x(n=document.createElement("div"),o),e.appendChild(n),t=n),x(t,f("layer")),t.style.zIndex=i,t},k.prototype.getPointOrCorner=function(t){return 2===t.length?new M(t[0],t[1]):"number"==typeof t[0]?this.getCornerPoint(t[0]):t[0]},k.prototype.getCornerPoint=function(t){return new M(!!(1&t)*this.width,!!(2&t)*this.height)},k.prototype.getOptionalShape=function(){var n;return["rect","polygon","path","circle"].some(function(t){var e,i=this.getOption(t);return i&&((e={}).attributes=i,e.type=t,n=e),n},this),n},k.prototype.setupLayers=function(){var t=this.getOptionalShape(),e=this.topLayer=this.findOrCreateLayer("top",this.el,2),i=this.backLayer=this.findOrCreateLayer("back",this.el,3);this.bottomLayer=this.findOrCreateLayer("bottom",this.el,1),t?(this.topLayer=this.wrapShapeLayer(this.topLayer,"top-outer-clip"),this.backLayer=this.wrapShapeLayer(this.backLayer,"back-outer-clip"),this.topShapeClip=new R(e,t),this.backShapeClip=new R(i,t),this.bottomShapeClip=new R(this.bottomLayer,t),this.getOption("topShadowCreatesShape")&&(this.topShadowElement=this.setupDropShadow(t,e))):this.topShadowElement=this.findOrCreateLayer("top-shadow",e,1),this.topClip=new R(this.topLayer),this.backClip=new R(this.backLayer),this.backShadowElement=this.findOrCreateLayer("back-shadow",i,1),this.backReflectionElement=this.findOrCreateLayer("back-reflection",i,2),this.bottomShadowElement=this.findOrCreateLayer("bottom-shadow",this.bottomLayer,1),this.usesBoxShadow=!t},k.prototype.setupDropShadow=function(t,e){e=T("svg",e,{class:f("layer")});return T(t.type,e,t.attributes),e},k.prototype.wrapShapeLayer=function(t,e){var i=t.style.zIndex,e=(x(t,f("shape-layer")),this.findOrCreateLayer(e,this.el,i));return e.appendChild(t),e},k.prototype.setupDimensions=function(){this.width=this.el.offsetWidth,this.height=this.el.offsetHeight,this.center=new M(this.width/2,this.height/2),this.elementBox=this.getScaledBox(1),this.clippingBox=this.getScaledBox(this.getOption("clippingBoxScale"))},k.prototype.getScaledBox=function(t){var e=t,t=t-1,i=new M(-this.width*t,-this.height*t),n=new M(this.width*e,-this.height*t),o=new M(this.width*e,this.height*e),t=new M(-this.width*t,this.height*e);return[new I(i,n),new I(n,o),new I(o,t),new I(t,i)]},k.prototype.getConstrainedPeelPosition=function(i){return this.constraints.forEach(function(t){var e=this.getFlipConstraintOffset(t,i);e&&(t=new A(t.center,t.radius-e)),i=t.constrainPoint(i)},this),i},k.prototype.getFlipConstraintOffset=function(t,e){var i=this.getOption("flipConstraintOffset");if(t===this.flipConstraint&&i){var n=this.corner.subtract(this.center),o=this.corner.subtract(t.center),s=o.getAngle(),o=(o.rotate(-s),e.subtract(t.center).rotate(-s));if(n.x*n.y<0&&(o.y*=-1),0<o.x&&0<o.y)return d(o.getAngle(),45,0)*i}},k.prototype.getPeelLineSegment=function(t){var e=this.corner.subtract(t).scale(.5),i=t.add(e),t=(e=0===e.x&&0===e.y?t.subtract(this.center):e).getLength(),t=Math.max(this.width,this.height)/t*10,e=e.rotate(-90).scale(t);return new I(i.add(e),i.subtract(e))},k.prototype.setBackTransform=function(t){var e=this.flipPointHorizontally(this.corner),i=2*(this.peelLineRotation-90),t=t.subtract(e.rotate(i)),e="translate("+u(t.x)+"px, "+u(t.y)+"px) rotate("+u(i)+"deg)";g(this.backLayer,e),g(this.topShadowElement,e)},k.prototype.getPeelLineDistance=function(){this.peelLineRotation<90?(t=k.Corners.TOP_RIGHT,e=k.Corners.BOTTOM_LEFT):this.peelLineRotation<180?(t=k.Corners.BOTTOM_RIGHT,e=k.Corners.TOP_LEFT):this.peelLineRotation<270?(t=k.Corners.BOTTOM_LEFT,e=k.Corners.TOP_RIGHT):this.peelLineRotation<360&&(t=k.Corners.TOP_LEFT,e=k.Corners.BOTTOM_RIGHT);var t,e,i=new I(t=this.getCornerPoint(t),e=this.getCornerPoint(e)).scale(2),i=this.peelLineSegment.getIntersectPoint(i);return i?t.subtract(i).getLength()/t.subtract(e).getLength():2},k.prototype.setEffects=function(){var t=this.getPeelLineDistance();this.setTopShadow(t),this.setBackShadow(t),this.setBackReflection(t),this.setBottomShadow(t),this.setFade()},k.prototype.setTopShadow=function(t){var e,i,n,o,s;this.getOption("topShadow")&&(e=this.getOption("topShadowBlur"),i=this.getOption("topShadowOffsetX"),n=this.getOption("topShadowOffsetY"),o=this.getOption("topShadowAlpha"),t=this.exponential(t,5,o),this.usesBoxShadow?(o=this.topShadowElement,s=0,o.style[r]=y(i,n,e,s,t)):this.topShadowElement.style[h]="drop-shadow("+y(i,n,e,null,t)+")")},k.prototype.distributeOrLinear=function(t,e,i){return e?2*(i||1)*(.5-Math.abs(t-.5)):t*i},k.prototype.exponential=function(t,e,i){return i*l(Math.pow(1+t,e)-1)},k.prototype.setBackReflection=function(t){var e,i,n,o,s=[];this.canSetLinearEffect("backReflection",t)&&(n=this.getOption("backReflectionDistribute"),o=this.getOption("backReflectionSize"),i=this.getOption("backReflectionOffset"),e=this.getOption("backReflectionAlpha"),o=(n=(i=t-i)-(t=this.distributeOrLinear(t,n,o)))-t,s.push(L(0,0)),s.push(L(0,o)),s.push(L(e,n)),s.push(L(0,i))),b(this.backReflectionElement,180-this.peelLineRotation,s)},k.prototype.setBackShadow=function(t){var e,i,n,o,s=[];this.canSetLinearEffect("backShadow",t)&&(o=this.getOption("backShadowSize"),i=this.getOption("backShadowOffset"),e=this.getOption("backShadowAlpha"),n=this.getOption("backShadowDistribute"),o=(n=(i=t-i)-(t=this.distributeOrLinear(t,n,o)))-t,s.push(m(0,0)),s.push(m(0,o)),s.push(m(e,n)),s.push(m(e,i))),b(this.backShadowElement,180-this.peelLineRotation,s)},k.prototype.setBottomShadow=function(t){var e,i,n,o,s,r,h=[];this.canSetLinearEffect("bottomShadow",t)&&(r=this.getOption("bottomShadowSize"),e=this.getOption("bottomShadowOffset"),i=this.getOption("bottomShadowDarkAlpha"),n=this.getOption("bottomShadowLightAlpha"),s=this.getOption("bottomShadowDistribute"),r=(s=(o=t-(.025-e))-this.distributeOrLinear(t,s,.03)*r-e)-(.02*r-e),h=[m(0,0),m(0,r),m(n,s),m(n,o),m(i,t)]),b(this.bottomShadowElement,this.peelLineRotation+180,h)},k.prototype.canSetLinearEffect=function(t,e){return this.getOption(t)&&0<e},k.prototype.setFade=function(){var t,e=this.fadeThreshold,i=1;e&&(t=void 0!==this.timeAlongPath?this.timeAlongPath:this.getAmountClipped(),w(this.topLayer,i=e<t?(1-t)/(1-e):i),w(this.backLayer,i),w(this.bottomShadowElement,i))},k.prototype.flipPointHorizontally=function(t){return new M(t.x-2*(t.x-this.center.x),t.y)},k.prototype.init=function(){this.getOption("setPeelOnInit")&&this.setPeelPosition(this.corner),x(this.el,f("ready"))},R.getDefs=function(){return this.defs||(this.svg=T("svg",null,{class:f("svg-clip-element")}),this.defs=T("defs",this.svg)),this.defs},R.createClipPath=function(t,e){var i=R.getId(),n=T("clipPath",this.getDefs()),e=T(e.type,n,e.attributes);return E(n,"id",i),n="url(#"+i+")",t.style[o]=n,e},R.getId=function(){return R.id||(R.id=1),"svg-clip-"+R.id++},R.prototype.setPoints=function(t){t=t.map(function(t){return u(t.x)+","+u(t.y)}).join(" ");E(this.shape,"points",t)},A.prototype.containsPoint=function(t){var e;return!!this.boundingRectContainsPoint(t)&&(e=this.center.x-t.x,t=this.center.y-t.y,(e*=e)+(t*=t)<=this.radius*this.radius)},A.prototype.boundingRectContainsPoint=function(t){return t.x>=this.center.x-this.radius&&t.x<=this.center.x+this.radius&&t.y>=this.center.y-this.radius&&t.y<=this.center.y+this.radius},A.prototype.constrainPoint=function(t){var e;return this.containsPoint(t)||(e=t.subtract(this.center).getAngle(),t=this.center.add(new M(this.radius,0).rotate(e))),t},D.getArea=function(t){var n=0,o=0;return t.forEach(function(t,e,i){e=i[(e+1)%i.length];n+=t.x*e.y,o+=t.y*e.x}),(n-o)/2},D.prototype.addPoint=function(t){this.points.push(t)},D.prototype.getPoints=function(){return this.points},B.prototype.getPointForTime=function(t){var e=Math.pow(1-t,3),i=3*t*Math.pow(1-t,2),n=3*Math.pow(t,2)*(1-t),t=Math.pow(t,3);return new M(e*this.p1.x+i*this.c1.x+n*this.c2.x+t*this.p2.x,e*this.p1.y+i*this.c1.y+n*this.c2.y+t*this.p2.y)},I.EPSILON=1e-6,I.prototype.getPointForTime=function(t){return this.p1.add(this.getVector().scale(t))},I.prototype.scale=function(t){return new I(this.p1.add(this.p2.subtract(this.p1).scale(t)),this.p2.add(this.p1.subtract(this.p2).scale(t)))},I.prototype.getPointDeterminant=function(t){t=(t.x-this.p1.x)*(this.p2.y-this.p1.y)-(t.y-this.p1.y)*(this.p2.x-this.p1.x);return t=-I.EPSILON<t&&t<I.EPSILON?0:t},I.prototype.getIntersectPoint=function(t){var e=this;function i(t,e){return t.x*e.y-t.y*e.x}var n=e.p2.subtract(e.p1),o=t.p2.subtract(t.p1),s=i(t.p1.subtract(e.p1),n),r=i(n,o);return 0!=r&&(s=s/r,0<=(t=i(t.p1.subtract(e.p1),o)/r))&&t<=1&&0<=s&&s<=1?e.p1.add(n.scale(t)):null},I.prototype.getAngle=function(){return this.getVector().getAngle()},I.prototype.getVector=function(){return this.vector||(this.vector=this.p2.subtract(this.p1)),this.vector},M.DEGREES_IN_RADIANS=180/Math.PI,M.degToRad=function(t){return t/M.DEGREES_IN_RADIANS},M.radToDeg=function(t){for(var e=t*M.DEGREES_IN_RADIANS;e<0;)e+=360;return e},M.vector=function(t,e){t=M.degToRad(t);return new M(Math.cos(t)*e,Math.sin(t)*e)},M.prototype.add=function(t){return new M(this.x+t.x,this.y+t.y)},M.prototype.subtract=function(t){return new M(this.x-t.x,this.y-t.y)},M.prototype.scale=function(t){return new M(this.x*t,this.y*t)},M.prototype.getLength=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},M.prototype.getAngle=function(){return M.radToDeg(Math.atan2(this.y,this.x))},M.prototype.setAngle=function(t){return M.vector(t,this.getLength())},M.prototype.rotate=function(t){return this.setAngle(this.getAngle()+t)},o=c("clipPath"),i=c("transform"),r=c("boxShadow"),h=c("filter"),(e=document.createElement("div").style).cssText="background:linear-gradient(45deg,#9f9,white);",n=-1<(e.backgroundImage||"").indexOf("gradient"),k.supported=!(!o||!i),k.effectsSupported=n,t.Peel=k}(window);