function getTextWidth(t,e){const n=(getTextWidth.canvas||(getTextWidth.canvas=document.createElement("canvas"))).getContext("2d");return n.font=e,n.measureText(t).width}const invalidEnglishRegex=/[^(\u0020-\u007F|\u000A|\u000C|\u000D|\u0085|\u00A0|\u2028|\u2029|\u2018-\u201A|\u201C-\u201D)]/gi,invalidEnglishString="[^( -|\n|\f|\r|| |\u2028|\u2029|‘-‚|“-”)]";!function(t){t.quoteNormalize=function(){return this.replace(/[“‟”„″‶❝❞〝〞＂]/gi,'"').replace(/[´＇｀`‘’‛′‵❛❜]/gi,"'").replace(/[‚،﹐﹑，､]/gi,",").replace(/\u00A0/gi," ")},t.capitalize1st=function(){return this.charAt(0).toUpperCase()+this.slice(1)},t.parseToSentences=function(){return this.quoteNormalize().concatLines().insertSpace().shrinkSpaces().splitSentences()},t.concatLines=function(){return this.replace(/[\r\n]/g," ").trim()},t.insertSpace=function(){return this.replace(/(\b[a-z]\w*\W)([A-Z]\w*)/g,"$1 $2")},t.shrinkSpaces=function(){return this.replace(/\s+/g," ")},t.sentenceNormalize=function(){return this.quoteNormalize().concatLines().shrinkSpaces().capitalize1st()},t.splitSentences=function(){try{return this.split(new RegExp('(?<!\\w\\.\\w.)(?<![A-Z][a-z]\\.)(?<! [A-Z]\\.)(?<=[\\.\\!\\?"])\\s',"gm"))}catch(t){if(console.warn('This browser does not support the RegExp "(?<=X)" and "(?<!X)", so it takes longer than other browsers...'),!this.match(/\s/))return[this];const r=[];let e=0,n=this.matchAll(/\s/gm);for(var s of n){var i=this.charAt(s.index-1);!/[\.\!\?]/.test(i)||/\w\.\w./.test(i)||/[A-Z][a-z]\./.test(i)||/ [A-Z]\./.test(i)||(r.push(this.substring(e,s.index)),e=s.index+1)}return e<=this.length+1&&r.push(this.substring(e)),r}},t.isSentence=function(){try{return/[A-Z\d'"]/.test(this.charAt())&&this.match(new RegExp("(?<!\\w\\.\\w.)(?<![A-Z][a-z]\\.)(?<=[\\.\\!\\?])","g"))?.index==this.length}catch(t){var e;if(console.warn('This browser does not support the RegExp "(?<=X)" and "(?<!X)", so it takes longer than other browsers...'),/[A-Z\d'"]/.test(this.charAt())&&/[\.\?\!]['"]?$/.test(this))for(e of this.matchAll(/\S+[\.\?\!]['"]?/g))if(!/\w\.\w.$/.test(e[0])&&!/[A-Z][a-z]\.$/.test(e[0]))return e.index+e[0].length==this.length;return!1}}}(String.prototype);