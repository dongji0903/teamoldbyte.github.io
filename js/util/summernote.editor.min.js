async function openSummernote(n){if(void 0===$.summernote){$("head").append('<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css">'),await $.getScript("https://cdn.jsdelivr.net/combine/npm/summernote@0.8.18/dist/summernote-lite.min.js,npm/summernote@0.8.18/lang/summernote-ko-KR.min.js"),await $.getScript("https://static.findsvoc.com/js/util/summernote.plugins.js");const e=document.createElement("style");e.innerHTML='.note-editor.note-frame {-webkit-user-select: initial;user-select: initial;}.note-toolbar .dropdown-toggle::after{display:none;} .note-editable{font-family: "HCRDotum";}',document.head.append(e)}n.summernote({colorButton:{foreColor:"#FF0000",backColor:"#FFFF00"},toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontsize"]],["color",["forecolor","backcolor"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["help"]]],styleTags:["p",{title:"제목",tag:"h4",value:"h4"}],fontNames:["RIDIBatang","HCRDotum"],fontSizes:["10","12","14","16","18","24","36"],lang:"ko-KR",callbacks:{onPaste:function(e){let t=((e.originalEvent||e).clipboardData||window.clipboardData).getData("Text");null!=t&&0<t.length&&(e.preventDefault(),setTimeout(function(){n.summernote("pasteHTML",t.replaceAll(/\n/g,"<br/>"))},10))},onChange:function(e,t){const n=bootstrap.Popover.getOrCreateInstance(t[0],{html:!0,title:'<span class="fw-bold">※ 경고</span>',trigger:"manual",content:'<span class="fw-bold text-danger">본문 내용이 너무 길어 마지막 입력이 취소되었습니다.</span>'});65e3<e.length?($(this).summernote("undo"),setTimeout(()=>n.show(),150),t.blur()):n.hide()},onImageUpload:function(n){const a=this;let o=new FormData;for(let e=0,t=n.length;e<t;e++){if(1048576<n[e].size)return void alert("업로드 용량 초과: "+Math.ceil(n[e].size/1024)+"KB\n(최대 용량: 1024KB)");o.append("files",n[e])}$.ajax({type:"POST",url:"/sn/fileUpload",data:o,processData:!1,contentType:!1,success:function(n){for(let e=0,t=n.length;e<t;e++){const o=n[e];null==o||o.startsWith("NOT_ALLOWED")?alert("허용되지 않는 형식의 파일입니다.\n파일: "+o.replace("NOT_ALLOWED","")):(o,$(a).summernote("insertImage",o))}},error:function(e){alert("파일을 업로드하지 못했습니다. 다시 시도해 주세요.")}})}}})}