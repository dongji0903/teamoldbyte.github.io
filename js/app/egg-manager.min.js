!function(s,g,c){let d=[],m=!1,p=[],u=1,a=1;const t={el:"span",style:"padding: 0.33rem;",className:"egg-confirm position-absolute top-0 start-100 translate-middle bg-danger border border-light rounded-circle"},h={el:"div",id:"newEggModal",className:"modal",tabIndex:"-1","data-bs-backdrop":"static",style:{zIndex:1071,background:"radial-gradient(circle, white 25%, #fff4)"},children:[{el:"div",className:"modal-dialog modal-dialog-centered overflow-hidden m-0",style:"max-width: 100%",children:[{el:"div",className:"modal-content bg-transparent border-0",children:[{el:"div",className:"modal-header border-0 d-block text-center"},{el:"div",className:"modal-body w-100 text-center",style:"min-height: 77vmin",children:[{el:"span",className:"circle-dark",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"70vmin",height:"70vmin",backgroundColor:"var(--fc-purple)",borderRadius:"37vmin",zIndex:1},children:[{el:"object",data:"https://static.findsvoc.com/images/app/egg/new-title.svg",style:{position:"absolute",top:"3vmin",left:"37.5%",width:"25%",height:"20%",zIndex:2,overflow:"visible"}}]},{el:"span",className:"circle-dark-dashed",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",borderRadius:"37vmin",backgroundColor:"transparent",border:"2vmin dashed var(--fc-purple)",width:"76vmin",height:"76vmin"}}]},{el:"div",className:"modal-footer d-block border-0 text-center",children:[{el:"button",className:"btn btn-fico rounded-5 col-md-2 col-4 fs-5 fw-bold js-verify-btn","data-bs-dismiss":"modal",onclick:()=>location.assign("/mypage"),textContent:"확인하기"},{el:"button",className:"btn btn-outline-fico rounded-5 col-md-2 col-4 fs-5 fw-bold","data-bs-dismiss":"modal",textContent:"닫기"}]}]}]}]};let f=!0,b,v,y={x:0,y:0};s(g).on("mousedown",e=>{y={x:e.clientX,y:e.clientY}}).ajaxComplete((e,t,a)=>{if(null!=t.responseJSON&&(null!=t.responseJSON.eggList&&0<t.responseJSON.eggList.length||null!=t.responseJSON.eggResponse&&0<t.responseJSON.eggResponse.eggList.length)){let n=[];p=[],(t.responseJSON.eggList||t.responseJSON.eggResponse.eggList).forEach(a=>{for(let e=0,t=a.eggNum;e<t;e++)0==d[a.eggColor]&&p.push(a.eggColor),d[a.eggColor]++,n.push((i=a.eggColor,createElement({el:"img",src:`https://static.findsvoc.com/images/app/egg/min/${i+1}.png`,style:{position:"fixed",zIndex:1071,left:y.x-25+"px",top:y.y-25+"px"}})));var i}),c.localStorage.setItem("fico_egg_tray",JSON.stringify(d)),m=!1,c.localStorage.setItem("fico_egg_confirmed",!1),x();{var o=n;var l=void 0;const r=0<u?function(e){return createElement({el:"img",id:"egg_tray",src:`https://static.findsvoc.com/images/app/egg/bucket/bucket-${e}.svg`,onclick:()=>c.location.assign("/mypage"),"data-bs-toggle":"tooltip",title:"마이페이지로 가서 에그 확인",style:{position:"fixed",left:c.innerWidth-80+"px",top:c.innerHeight-150+"px",zIndex:1072,width:"70px",height:"70px",cursor:"pointer"}})}(u):createElement({el:"img",id:"plasticbag_container",src:"https://static.findsvoc.com/images/app/egg/bucket/plasticbag.svg",onclick:()=>c.location.assign("/membership"),"data-bs-toggle":"tooltip",title:["깨진 에그가 아까워..→","에그를 받아내는 방법 없나?→","비닐봉지 말고 없나?→","에그가 왜 깨지죠?→","아직 회원이 아니군요?"][Math.floor(5*Math.random())],style:{position:"fixed",right:"10px",top:c.innerHeight-180+"px",width:"50px",height:"50px",zIndex:1072,pointerEvents:"auto",cursor:"pointer"}});g.body.appendChild(r),r.onmouseover=()=>{r.dataset.pause=!0},r.onmouseout=()=>{delete r.dataset.pause};let t;anime({targets:r,left:[c.innerWidth,c.innerWidth-70],duration:500}),o.forEach(e=>g.body.appendChild(e)),(i=anime.timeline({targets:o,delay:anime.stagger(200)})).add({duration:500,scale:[0,1],translateY:[10,-10],easing:"cubicBezier(0,2,1,2)",rotateZ:{value:[anime.stagger(75,{start:15}),anime.stagger(75,{start:75})],easing:"linear"}}).add({duration:2e3,left:{value:function(){return c.innerWidth-58+anime.random(-4,4)},easing:"linear"},top:[{value:y.y/2,easing:"cubicBezier(0,0,0,1)",duration:1e3},{value:c.innerHeight-145,easing:"cubicBezier(0,0,1,0)",duration:1e3}],rotateZ:{value:anime.stagger(150,{start:1200}),easing:"cubicBezier(0,.5,.5,1)"},scale:{value:.3,easing:"cubicBezier(.5,0,1,.5)"},begin:()=>{0<d.length?setTimeout(()=>{anime({targets:r,translateY:[5,0],delay:anime.stagger(200),duration:200,loop:o.length,easing:"easeOutExpo"})},2e3):(setTimeout(()=>{(t=new bootstrap.Tooltip(r)).show()},1900),anime({targets:"#plasticBagPath",d:{value:[v[0],v[1]]},delay:1900,duration:500}))},complete:()=>{if(0<d.length){var a=u;let t=0;for(let e=0;e<9;e++)t+=d[e];if(w(t),0<p.length||a<u){null==g.getElementById("newEggModal")&&g.body.appendChild(createElement(h)),s("#newEggModal .modal-body .new-obj").remove();const i=[];p.forEach(e=>{e=createElement({el:"div",className:"new-obj",style:{position:"absolute",left:"50%",top:"calc(50% + 4vmin)",width:"37.5vmin",height:"50vmin",maxWidth:"50vmin",zIndex:1071,maxHeight:"50vmin",transformOrigin:"center",opacity:0,transform:"translate(-50%,-50%)",borderRadius:"50% 50% 50% 50%/60% 60% 40% 40%",background:`center/ 102% 101% url(https://static.findsvoc.com/images/app/egg/egg-${e+1}.png) no-repeat`}});s("#newEggModal .modal-body").append(e),i.push(e)}),a<u&&(a=u,a=createElement({el:"img",className:"new-obj",src:`https://static.findsvoc.com/images/app/egg/bucket/bucket-${a}.svg`,style:{position:"absolute",left:"50%",top:"calc(50% + 4vmin)",maxWidth:"50vmin",zIndex:1071,maxHeight:"50vmin",transformOrigin:"center",opacity:0,transform:"translate(-50%,-50%)"}}),s("#newEggModal .modal-body").append(a),i.push(a)),s("#newEggModal").modal("show"),anime({targets:"#newEggModal .circle-dark object",scale:[0,1],duration:1200}),b=anime({targets:"#newEggModal .circle-dark-dashed",rotateZ:360,duration:8e3,loop:!0,easing:"linear"}),i.forEach((e,t)=>{setTimeout(()=>{0==t&&showFireworks({target:s("#newEggModal .modal-body")[0],particles:20,time:1e3*i.length+2e3,distance:100,interval:200,size:15}),anime({targets:e,duration:1e3,scale:[0,1],opacity:[0,1],complete:()=>{t+1!=i.length&&e.remove()}})},500+1e3*t)}),f=!1,anime({targets:"#newEggModal .modal-footer .js-verify-btn",loop:!0,scale:[1,1.05],direction:"alternate",easing:"linear",duration:1e3,delay:500})}let e=setInterval(()=>{null==r.dataset.pause&&f&&(clearInterval(e),anime({targets:[o,r],left:[c.innerWidth],duration:1e3,easing:"easeInElastic",delay:400,complete:()=>{o.forEach(e=>e.remove()),r.remove()}}),"function"==typeof l&&l.call())},100)}}}),0==d.length&&i.add({delay:anime.stagger(200,{start:500}),duration:500,top:c.innerHeight,easing:"cubicBezier(1,0,1,0)",begin:()=>{anime({targets:"#plasticBagPath",delay:500,duration:500,easing:"cubicBezier(1,0,1,0)",d:{value:v[2]}});const a=[];for(let e=0,t=o.length;e<t;e++)a.push(createElement({el:"img",src:"https://static.findsvoc.com/images/app/egg/bucket/egg-crashed.svg",style:{position:"fixed",right:"0px",top:c.innerHeight-27.5+"px",width:"76.2px",height:"27.5px",transformOrigin:"bottom",transform:"scaleY(0)"}}));s(g.body).append(a),anime.timeline({targets:a}).add({delay:anime.stagger(200,{start:700}),duration:1e3,scaleY:[0,2,0],scaleX:[0,1,.5],opacity:[1,1,0],easing:"cubicBezier(0,1,0,1)",complete:()=>a.forEach(e=>e.remove())})},complete:()=>{o.forEach(e=>e.remove());let e=setInterval(()=>{null==r.dataset.pause&&(clearInterval(e),anime({targets:r,left:c.innerWidth,duration:500,delay:500,complete:()=>{t.dispose(),r.remove()}}),"function"==typeof l&&l.call())},100)}})}}}).on("hide.bs.modal","#newEggModal",function(){f=!0,null!=b&&(b.pause(),b=null)});let i;function x(){m||g.querySelectorAll('.nav-link[href="/mypage"] .icon,[data-bs-target="#mobileDropdown"] .navbar-toggler-icon').forEach(e=>{null==e.querySelector(".egg-confirm")&&e.appendChild(createElement(t))})}function w(t){if(-1<t){u=1,a=1;let e=t;for(;9<=e;)e/=3,a*=3,u++;u=Math.max(1,u)}else u=0}c.eggManager={setEggTray:function(e,a){if(null!=e&&0<e.length){var i;g.referrer.includes("/auth/login")?((d=JSON.parse(e))[9]=parseInt(a),c.localStorage.setItem("fico_egg_tray",JSON.stringify(d)),null==c.localStorage.getItem("fico_egg_confirmed")&&(m=!0,c.localStorage.setItem("fico_egg_confirmed",!0))):(null!=(i=c.localStorage.getItem("fico_egg_tray"))?d=JSON.parse(i):((d=JSON.parse(e))[9]=parseInt(a),c.localStorage.setItem("fico_egg_tray",JSON.stringify(d))),location.pathname.includes("/mypage")?(m=!0,c.localStorage.setItem("fico_egg_confirmed",!0)):null!=(i=c.localStorage.getItem("fico_egg_confirmed"))&&(m=JSON.parse(i)),x());let t=0;for(let e=0;e<9;e++)t+=d[e];w(t)}else s.getJSON("https://static.findsvoc.com/data/egg/plasticbag-anim-paths.json",e=>{v=e}),null!=c.localStorage.getItem("fico_egg_tray")&&c.localStorage.removeItem("fico_egg_tray"),d=[],w(-1)},getBucketLevel:function(){return u},getBucketSize:function(){return a}}}.call(this,jQuery,document,this);