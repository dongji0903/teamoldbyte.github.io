var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var c=a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function c(){this.batch_=null}function b(a){return a instanceof e?a:new e(function(b,c){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;c.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};c.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var d=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(a){d(a,
0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];try{c()}catch(r){this.asyncThrow_(r)}}}this.batch_=null};c.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(h){b.reject(h)}};e.prototype.createResolveAndReject_=
function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var b=
void 0;try{b=a.then}catch(h){this.reject_(h);return}"function"==typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.onSettledCallbacks_=null}};var f=new c;e.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};e.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(r){c.reject(r)}};e.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(q){f(q)}}:b}var d,f,g=new e(function(a,
b){d=a;f=b});this.callWhenSettled_(c(a,d),c(b,f));return g};e.prototype.catch=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?f.asyncExecute(c):this.onSettledCallbacks_.push(function(){f.asyncExecute(c)})};e.resolve=b;e.reject=function(a){return new e(function(b,c){c(a)})};e.race=function(a){return new e(function(c,
d){for(var e=$jscomp.makeIterator(a),f=e.next();!f.done;f=e.next())b(f.value).callWhenSettled_(c,d)})};e.all=function(a){var c=$jscomp.makeIterator(a),d=c.next();return d.done?b([]):new e(function(a,e){function f(b){return function(c){m[b]=c;g--;0==g&&a(m)}}var m=[],g=0;do m.push(void 0),g++,b(d.value).callWhenSettled_(f(m.length-1),e),d=c.next();while(!d.done)})};return e},"es6","es3");
$jscomp.executeAsyncGenerator=function(a){function c(b){return a.next(b)}function b(b){return a.throw(b)}return new Promise(function(d,e){function f(a){a.done?d(a.value):Promise.resolve(a.value).then(c,b).then(f,e)}f(a.next())})};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,d={next:function(){if(b<a.length){var e=b++;return{value:c(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(c.call(b,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=c.length,f=a.length;b=Math.max(0,Math.min(b|0,c.length));for(var g=0;g<f&&b<e;)if(c[b++]!=a[g++])return!1;return g>=f}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,b){var c=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===b&&(b=c.length);b=Math.max(0,Math.min(b|0,c.length));for(var e=a.length;0<e&&0<b;)if(c[--b]!=a[--e])return!1;return 0>=e}},"es6","es3");$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(a,c){for(var b=1;b<arguments.length;b++){var d=arguments[b];if(d)for(var e in d)$jscomp.owns(d,e)&&(a[e]=d[e])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");
(function(a){function c(a,c,e){for(var b=a,d=e,k=1E-4;1>=k;k+=1E-4){var h=(1-k)*(1-k)*a+2*(1-k)*k*c+k*k*e;h<b&&(b=h);h>d&&(d=h)}return[Math.round(b),Math.round(d)]}a.fn.curvedArrow=function(b){b=a.extend({p0x:50,p0y:50,p1x:70,p1y:10,p2x:100,p2y:100,size:30,lineWidth:10,strokeStyle:"rgb(245,238,49)",header:!0,curve:!0,className:"curved_arrow"},b);var d=document.createElement("canvas");a(d).appendTo(this);var e=b.curve?c(b.p0x,b.p1x,b.p2x):[Math.min(b.p0x,b.p1x,b.p2x),Math.max(b.p0x,b.p1x,b.p2x)],f=
b.curve?c(b.p0y,b.p1y,b.p2y):[Math.min(b.p0y,b.p1y,b.p2y),Math.max(b.p0y,b.p1y,b.p2y)],g=b.size-b.lineWidth,k=e[0]-g;e=e[1]+g;var h=f[0]-g,r=f[1]+g,n=b.p0x-k,p=b.p0y-h,m=b.p1x-k,t=b.p1y-h;f=b.p2x-k;g=b.p2y-h;d.style.position="absolute";d.style.top=h+"px";d.style.left=k+"px";var l=d.getContext("2d"),q=(window.devicePixelRatio||1)/(l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1);if(d.style.width=e-k+"px",
d.style.height=r-h+"px",d.width=(e-k)*q,d.height=(r-h)*q,l.scale(q,q),l.strokeStyle=b.strokeStyle,l.lineWidth=b.lineWidth,l.lineJoin="round",l.lineCap="round",l.beginPath(),l.moveTo(n,p),Math.abs(m-n)>Math.abs(t-g)&&l.lineTo(m>n?m-Math.abs(t-g):m+Math.abs(t-g),t),b.curve?l.quadraticCurveTo(m,t,f,g):(l.lineTo(m,t),l.lineTo(f,g)),l.stroke(),b.header)k=Math.atan2(g-t,f-m),l.translate(f,g),l.rotate(k+1),l.beginPath(),l.moveTo(0,b.size),l.lineTo(0,0),l.stroke(),l.rotate(-2),l.lineTo(0,-b.size),l.stroke(),
l.rotate(1-k),l.translate(-f,-g);return a(d).addClass(b.className)}})(jQuery);var portraitList=window.matchMedia("(orientation: portrait)");
function showSemanticAnalysis(a,c,b){return $jscomp.executeAsyncGenerator(function(){function d(d,t,l){for(;;)switch(e){case 0:return window.semanticSequence=window.semanticSequence||0,n=b[0].ownerDocument.createElement("div"),n.className="semantics-result",b.append(n),r=paintBasicDOMs,h=a,e=1,{value:svocText2Arr(c),done:!1};case 1:if(1!=d){e=2;break}e=-1;throw l;case 2:return k=t,r(h,k||[],n),f=window.innerWidth,window.addEventListener("resize",function(){if(!$(n).is(":visible")||f==window.innerWidth)return!0;
clearTimeout(g);f=window.innerWidth;g=setTimeout(function(){return requestAnimationFrame(function(){return correctMarkLine(n)})},100)}),correctMarkLine(n),e=-1,{value:n,done:!0};default:return{value:void 0,done:!0}}}var e=0,f,g,k,h,r,n,p={next:function(a){return d(0,a,void 0)},throw:function(a){return d(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();p[Symbol.iterator]=function(){return this};return p}())}
var keywordTable={"ΐ":'"start"',"Α":'"end"',"Β":'"rcomment"',"Γ":'"gcomment"',"Δ":'"markType"',"Ε":'"hasModificand"',"Σ":'"S"',"Τ":'"V"',"Υ":'"O"',"Φ":'"C"',"Χ":'"OC"',"Ω":'"M"',"Ѐ":'"CCLS"',"Ё":'"NCLS"',"Ђ":'"ACLS"',"Ѓ":'"ADVCLS"',"а":'"PHR"',"б":'"ADJPHR"',"в":'"TOR"',"г":'"GER"',"д":'"PTC"',"е":'"RCM"',"Ⴀ":'"subj"',"Ⴁ":'"verb"',"Ⴂ":'"obj"',"Ⴃ":'"comp"',"Ⴄ":'"o.c"',"Ⴅ":'"prep.o."',"Ⴆ":'"i.o."',"Ⴇ":'"d.o."',"Ⴈ":'"s.s."',"Ⴉ":'"mod"',"ა":'"[조건 | 양보] 부사절"',"ბ":'"조건 부사절"',"გ":'"[시간 | 양보] 부사절"',"დ":'"[시간 | 양태] 부사절"',
"ე":'"시간 부사절"',"ვ":'"이유 부사절"',"ზ":'"양보 부사절"',"თ":'"부사절"',"ი":'"등위절"',"კ":'"병렬절"',"ლ":'"관계사"',"Ꭰ":'"선행사"',"Ꭱ":'"to부정사"',"Ꭲ":'"의미상 주어"',"Ꭳ":'"동명사"',"Ꭴ":'"전치사구"',"Ꭵ":'"전치사구(adj)"',"Ꭶ":'"분사"',"᐀":"true","ᐁ":"false","ᐂ":"null","ᐰ":"},{"};
function svocText2Arr(a){return $jscomp.executeAsyncGenerator(function(){function c(c,f,h){for(;;)switch(b){case 0:return b=1,{value:inflateSvoc(str2ab(atob(a))),done:!1};case 1:if(1!=c){b=2;break}b=-1;throw h;case 2:return d=e=f,b=-1,{value:JSON.parse(decSvoc(d)),done:!0};default:return{value:void 0,done:!0}}}var b=0,d,e,f={next:function(a){return c(0,a,void 0)},throw:function(a){return c(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();f[Symbol.iterator]=
function(){return this};return f}())}
function svocArr2Text(a){return $jscomp.executeAsyncGenerator(function(){function c(c,g,r){for(;;)switch(b){case 0:return f=btoa,e=ab2str,b=1,{value:deflateSvoc(encSvoc(JSON.stringify(a))),done:!1};case 1:if(1!=c){b=2;break}b=-1;throw r;case 2:return d=g,b=-1,{value:f(e(d)),done:!0};default:return{value:void 0,done:!0}}}var b=0,d,e,f,g={next:function(a){return c(0,a,void 0)},throw:function(a){return c(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();
g[Symbol.iterator]=function(){return this};return g}())}
function svocDom2Arr(a,c){var b=/\b(s|v|o|c|oc|m|rcm|tor|ger|ptc|conj|phr|adjphr|cls|ncls|acls|advcls|ccls|pcls)\b/;svocDom2Arr.pos=c?svocDom2Arr.pos:0;c=c?c:[];if(null!=a.classList&&a.classList.contains("semantics-result"))return a.childNodes.forEach(function(a,b,f){c=svocDom2Arr(a,c)}),c;if(!a.hasChildNodes()||"SPAN"!=a.nodeName||a.classList.contains("line-end")||a.classList.contains("brkt"))3==a.nodeType&&(svocDom2Arr.pos+=a.textContent.replaceAll("\n","").length);else for(b=a.className.match(b),
b=null!=b?b[0].toUpperCase():null,c.push({markType:b,start:svocDom2Arr.pos,end:svocDom2Arr.pos+a.textContent.replaceAll(/[\u200B\n\(\)\[\]\{\}]/gm,"").length,rcomment:a.dataset.rc,gcomment:a.dataset.gc,hasModificand:null!=a.dataset.mfd}),a=$jscomp.makeIterator(a.childNodes),b=a.next();!b.done;b=a.next())c=svocDom2Arr(b.value,c);return c}
function encSvoc(a){for(var c=Object.keys(keywordTable).reduce(function(a,b){a[keywordTable[b]]=b;return a},{}),b=Object.keys(c),d=b.length,e=0;e<d;e++)a=a.replaceAll(b[e],c[b[e]]);return a}function decSvoc(a){for(var c=Object.keys(keywordTable),b=c.length,d=0;d<b;d++)a=a.replaceAll(c[d],keywordTable[c[d]]);return a}function str2ab(a){var c=new ArrayBuffer(1*a.length);c=new Uint8Array(c);for(var b=0,d=a.length;b<d;b++)c[b]=a.charCodeAt(b);return c}
function ab2str(a){return String.fromCharCode.apply(null,new Uint8Array(a))}
function inflateSvoc(a){return $jscomp.executeAsyncGenerator(function(){function c(c,d,g){for(;;)switch(b){case 0:if("undefined"!=typeof pako&&"undefined"!=typeof pako.inflate){b=1;break}b=-1;return{value:new Promise(function(b){return $.getScript("https://cdn.jsdelivr.net/npm/pako/dist/pako.min.js").then(function(){return b(pako.inflate(new Uint16Array(a),{to:"string"}))}).fail(function(){return $jscomp.executeAsyncGenerator(function(){function c(c,e,f){for(;;)switch(d){case 0:return d=1,{value:$.getScript(location.origin+
"/js/public/pako.min.js"),done:!1};case 1:if(1!=c){d=2;break}d=-1;throw f;case 2:b(pako.inflate(new Uint16Array(a),{to:"string"})),d=-1;default:return{value:void 0,done:!0}}}var d=0,e={next:function(a){return c(0,a,void 0)},throw:function(a){return c(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();e[Symbol.iterator]=function(){return this};return e}())})}),done:!0};case 1:return b=-1,{value:pako.inflate(new Uint16Array(a),{to:"string"}),done:!0};
case 2:b=-1;default:return{value:void 0,done:!0}}}var b=0,d={next:function(a){return c(0,a,void 0)},throw:function(a){return c(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();d[Symbol.iterator]=function(){return this};return d}())}
function deflateSvoc(a){return $jscomp.executeAsyncGenerator(function(){function c(c,d,g){for(;;)switch(b){case 0:if("undefined"!=typeof pako&&"undefined"!=typeof pako.inflate){b=1;break}b=-1;return{value:new Promise(function(b){return $.getScript("https://cdn.jsdelivr.net/npm/pako/dist/pako.min.js").then(function(){return b(pako.deflate(a))}).fail(function(){return $jscomp.executeAsyncGenerator(function(){function c(c,e,f){for(;;)switch(d){case 0:return d=1,{value:$.getScript(location.origin+"/js/public/pako.min.js"),
done:!1};case 1:if(1!=c){d=2;break}d=-1;throw f;case 2:b(pako.deflate(a)),d=-1;default:return{value:void 0,done:!0}}}var d=0,e={next:function(a){return c(0,a,void 0)},throw:function(a){return c(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();e[Symbol.iterator]=function(){return this};return e}())})}),done:!0};case 1:return b=-1,{value:pako.deflate(a),done:!0};case 2:b=-1;default:return{value:void 0,done:!0}}}var b=0,d={next:function(a){return c(0,
a,void 0)},throw:function(a){return c(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();d[Symbol.iterator]=function(){return this};return d}())}
function paintBasicDOMs(a,c,b){b.innerHTML="";c=c||[];c.sort(function(a,b){return a.start-b.start||b.end-a.end});c=c.filter(function(a){return!!a.markType&&0<a.markType.length});var d="S V O C OC M".split(" ");c.forEach(function(a,b,c){if(null!=c[b+1]&&-1<["PHR","ADJPHR","TOR","PTC"].indexOf(a.markType))for(var d=Math.min(b+3,c.length),e=b+1;e<d;e++){if(null!=c[e]&&a.start==c[e].start)if(a.markType==c[e].markType||"PHR"==c[e].markType&&"ADJPHR"==a.markType)c.splice(e,1);else if("PHR"==a.markType&&
"ADJPHR"==c[e].markType){c.splice(b,1);break}}else if(-1<["ACLS","ADVCLS"].indexOf(a.markType)&&null!=a.rcomment)c[b+1].start==a.start&&c[b+1].end==a.end&&"V"==c[b+1].markType?c.splice(b+1,1):c.splice(b+1,0,{markType:"M",rcomment:a.rcomment,start:a.start,end:a.end});else if("V"==a.markType)for(d=c.length,b+=1;b<d&&null!=c[b]&&a.start<=c[b].start&&c[b].end<=a.end;b++)"V"==c[b].markType&&c.splice(b,1)});c.forEach(function(a,b,c){null!=c[b+1]&&a.start==c[b+1].start&&a.end==c[b+1].end&&(-1<d.indexOf(a.markType)&&
-1==d.indexOf(c[b+1].markType)?c.splice(b,2,c[b+1],a):-1<d.indexOf(a.markType)&&-1<d.indexOf(c[b+1].markType)&&c.splice(b+1,1))});var e=[c[0]];c.forEach(function(a){var b=e.slice(-1)[0];b.start==a.start&&b.end==a.end&&b.markType==a.markType||e.push(a)});var f=null,g="CONJ PHR ADJPHR CLS ACLS NCLS ADVCLS CCLS PCLS".split(" ");e.forEach(function(a){if(null!=f&&a.start==f.start&&a.end==f.end)if(-1<g.indexOf(f.markType))if(null==a.rcomment&&null==a.gcomment||"V"!=a.markType&&-1<["CCLS","PCLS"].indexOf(f.markType))e.splice(e.indexOf(a),
1);else{var b=e.indexOf(f);f.brkt=a.markType.toLowerCase();e.splice(b,1,f)}else if(-1<g.indexOf(a.markType))if(null==f.rcomment&&null==f.gcomment||"V"!=f.markType&&-1<["CCLS","PCLS"].indexOf(a.markType))e.splice(e.indexOf(f),1);else{b=e.indexOf(a);var c=e.indexOf(f);a.brkt=f.markType.toLowerCase();e.splice(b,1,f);e.splice(c,1,a)}else f=a;else f=a});c=[];var k=[],h=[];e.forEach(function(a){k.push({mark:a.markType,type:"start",index:a.start,modifier:a.hasModificand,brkt:a.brkt,rcomment:a.rcomment,gcomment:a.gcomment});
h.push({mark:a.markType,type:"end",index:a.end,brkt:a.brkt})});h.sort(function(a,b){return b.index-a.index});h.reverse();c=k.concat(h);c.sort(function(a,b){return a.index!=b.index?a.index-b.index:a.type!=b.type?"start"==a.type?1:-1:0});var r=b.dataset.seq||window.semanticSequence++||0;b.dataset.seq=r;var n=0,p=0;c.forEach(function(b){var c="";"start"==b.type?(c+='<span class="sem '+b.mark.toLowerCase(),"RCM"==b.mark&&(c+=" mfd-"+r+"-"+ ++p),b.modifier&&(c+='" data-mfd="'+r+"-"+p),c+=(b.rcomment?'" data-rc="'+
b.rcomment+'" data-rc-min="'+b.rcomment.substring(0,0<b.rcomment.indexOf(".")?b.rcomment.length:1)+'"':"")+(b.gcomment?'" data-gc="'+b.gcomment:"")+'">'):c+="</span>";a=a.substring(0,n+b.index)+c+a.substring(n+b.index);n+=c.length});b.insertAdjacentHTML("afterbegin",a);checkPOSDepth(b);splitInners(b);trimTextContent(b);shrinkRComment(b);wrapWithBracket(b)}
function checkPOSDepth(a){var c=$(a).find(".s, .v, .o, .c, .oc, .m"),b=0;$(a).removeAttr("data-lv");0<c.length&&!$(a).is(".sem.v")?(c.each(function(){b=Math.max(b,checkPOSDepth(this)+1)}),$(a).is(".s, .v, .o, .c, .oc, .m")&&0<b&&$(a).attr("data-lv",b),$(a).removeClass("inner"),$(a).is(".s, .v, .o, .c, .oc, .m")&&$(a).addClass("outer")):($(a).removeClass("outer"),$(a).is(".s, .v, .o, .c, .oc, .m")&&$(a).addClass("inner"));return b}
function wrapWithBracket(a){$(a).find(".cls-start,.cls-end,.ccls-start,.ccls-end,.phr-start,.phr-end,.adjphr-start,.adjphr-end,.conj-start,.conj-end,.etc-start,.etc-end").remove();trimTextContent(a);$(a).find(".acls, .ncls, .advcls, .cls, .ccls, .pcls, .phr, .adjphr, .conj").add($(a).find(".sem[data-lv]").filter(function(){return this.textContent.length!=this.parentElement.textContent.length||$(this.parentElement).is(".ptc, .tor")})).get().reverse().forEach(function(c){var b=c.className.match(/\bacls\b|\bncls\b|\badvcls\b|\bcls\b|\bccls\b|pcls\b|\bphr\b|\badjphr\b|\bconj\b/);
b=null!=b&&0<b.length?b[0]:"";var d="etc";switch(b){case "ccls":case "pcls":d="ccls";b=["{","}"];break;case "conj":case "phr":case "adjphr":d=b;b=["(",")"];break;case "acls":case "advcls":case "ncls":case "cls":d=b+" cls";b=["[","]"];break;default:b=["[","]"]}var e=a.ownerDocument.createElement("span"),f=a.ownerDocument.createElement("span");e.className="brkt "+d+"-start";f.className="brkt "+d+"-end";e.textContent=b[0];f.textContent=b[1];if(-1<b.indexOf("[")){var g=Number(c.dataset.lv||0);$(c).find(".sem[data-lv],.brkt[data-lv]").each(function(){g=
c.textContent.replaceAll(/[\[\]\(\)\{\}]/g,"").length>this.textContent.replaceAll(/[\[\]\(\)\{\}]/g,"").length?Math.max(g,Number(this.dataset.lv)+1):Math.max(g,Number(this.dataset.lv))});0<g&&(c.dataset.lv=g,e.dataset.lv=g,f.dataset.lv=g)}c.insertAdjacentElement("beforebegin",e);c.insertAdjacentElement("afterend",f)})}
function checkLineEnds(a){$(a).find(".line-end").remove();parseFloat(getComputedStyle(a.ownerDocument.documentElement).fontSize);var c=getLeafNodes([a]).filter(function(a){return 3==a.nodeType});c.forEach(function(a){for(var b=a.data.substring(1).match(/[\s-]/);3==a.nodeType&&null!=b&&-1<b.index;)a.splitText(b.index+("-"==b[0]?2:1)),a=a.nextSibling,b=a.data.substring(1).match(/[\s-]/)});c=getLeafNodes([a]).filter(function(a){return 3==a.nodeType});var b=0,d;c.forEach(function(c,f){f=new Range;f.selectNode(c);
var e=f.getClientRects()[0];null!=e&&e.x<b-1&&(e=a.ownerDocument.createElement("span"),e.className="sem line-end",e.insertAdjacentHTML("afterbegin","&#8203;\n"),null!=d.data&&null!=d.data.match(/[\S]/)?d.replaceWith(d,e):d.replaceWith(e,d));d=c;f.selectNode(d);0<f.getClientRects().length&&(b=f.getClientRects()[0].x)});c=a.ownerDocument.createElement("span");c.className="sem line-end";c.insertAdjacentHTML("afterbegin","&#8203;\n");a.appendChild(c);requestAnimationFrame(function(){adjustLineHeight(a)})}
function checkGCDepth(a){function c(){for(var k,h,r=0,n=f;n<e;n++){var p=d[n],m=p.getClientRects(),t=p.classList.contains("odd")&&1<m.length?m[1]:m[0];m=null==t?0:t.top;var l=null==t?0:t.left;l=p.classList.contains("rcm")?p.classList.contains("cmnt-align-start")?l-b:l+(t.width-parseFloat(getComputedStyle(p,"::after").width)-parseFloat(getComputedStyle(p,"::after").right)):l+parseFloat(getComputedStyle(p,"::after").left);if(n>f)if(p=parseFloat(getComputedStyle(d[n-1],"::after").width),Math.abs(k-m)<
b&&Math.abs(h-l)<5+p)$(g).attr("data-gc-lv",++r);else break;k=m;h=l}f++;g=d[f];f<e?requestAnimationFrame(c):requestAnimationFrame(function(){checkLineEnds(a)})}var b=parseFloat(getComputedStyle(a.ownerDocument.documentElement).fontSize),d=a.querySelectorAll(".sem[data-gc]"),e=d.length,f=0,g=d[0];c()}
function splitInners(a){for(var c=a.getElementsByClassName("sem inner"),b=/\b([svc]|oc)\b inner/,d={},e=0;e<c.length;d={one:d.one,range:d.range},e++)if(d.one=c[e],0<d.one.getElementsByClassName("sem inner").length)d.range=new Range,d.one.childNodes.forEach(function(b){return function(c){if(1==c.nodeType&&0<c.getElementsByClassName("inner").length)c.childNodes.forEach(function(c){if(1!=c.nodeType||!c.classList.contains("inner")){var d=a.ownerDocument.createElement("span");d.className="sem v inner";
d.dataset.rc=b.one.dataset.rc;d.dataset.rcMin=b.one.dataset.rcMin;b.range.selectNode(c);b.range.surroundContents(d)}});else if(1!=c.nodeType||!c.classList.contains("inner")){var d=a.ownerDocument.createElement("span");d.className="sem v inner";d.dataset.rc=b.one.dataset.rc;d.dataset.rcMin=b.one.dataset.rcMin;b.range.selectNode(c);b.range.surroundContents(d)}}}(d)),d.one.outerHTML=d.one.innerHTML;else if($(d.one).is(".s,.v,.c,.oc")){var f=d.one.nextSibling;if(null!=f){var g=f.nextSibling;1==f.nodeType&&
null!=f.className.match(b)&&d.one.className.match(b)[0]==f.className.match(b)[0]?(d.one.insertAdjacentHTML("beforeEnd",f.innerHTML),f.remove(),e--):1==f.nodeType||null!=f.data&&null!=f.data.match(/[^\s]/)||null==g||1!=g.nodeType||null==g.className.match(b)||d.one.className.match(b)[0]!=g.className.match(b)[0]||(d.one.insertAdjacentHTML("beforeEnd",f.data+g.innerHTML),f.remove(),g.remove(),e--)}}}
function trimTextContent(a){a=a.querySelectorAll(".sem:not(.line-end)");var c=new Text;c.data=" ";for(var b=a.length-1;0<=b;b--){var d=a[b];if(d.hasChildNodes()){for(;3==d.firstChild.nodeType&&d.firstChild.data.startsWith(" ");)d.firstChild.data=d.firstChild.data.substring(1),d.parentNode.insertBefore(c.cloneNode(),d);for(;3==d.lastChild.nodeType&&d.lastChild.data.endsWith(" ");)d.lastChild.data=d.lastChild.data.slice(0,-1),d.parentNode.insertBefore(c.cloneNode(),d.nextSibling)}}}
function shrinkRComment(a){function c(b,d){var e=(c.canvas||(c.canvas=a.ownerDocument.createElement("canvas"))).getContext("2d");e.font=d;return e.measureText(b).width}var b=a.getElementsByClassName("sem inner");b=$jscomp.makeIterator(b);for(var d=b.next();!d.done;d=b.next())d=d.value,null!=d.dataset.rc&&!(0<d.dataset.rc.indexOf("."))&&c(d.textContent,getComputedStyle(d).font)<c(d.dataset.rc,getComputedStyle(d,"::before").font)-4&&(d.dataset.rc=d.dataset.rc[0].toLowerCase())}
function correctMarkLine(a){a.removeAttribute("style");$(a).find(".cmnt-align-center,.cmnt-align-start").removeClass("cmnt-align-center cmnt-align-start odd");$(a).find(".sem:not(.line-end)").each(function(){if(1<this.getClientRects().length&&($(this).is(".rcm")||10>this.getClientRects()[0].width)){var a=this.getClientRects(),b=$(this).is(".rcm")?a[a.length-1].right-a[0].left:a[1].left-a[0].left;a=$(this).is(".rcm")?b:b+a[1].width/2;this.style.setProperty("--indent",b+"px");this.style.setProperty("--indent-min",
a+"px");$(this).removeClass("cmnt-align-start");$(this).addClass("cmnt-align-center odd")}else 1<this.getClientRects().length?(this.style.setProperty("--indent",null),this.style.setProperty("--indent-min",null),$(this).removeClass("cmnt-align-center odd"),$(this).addClass("cmnt-align-start")):(this.style.setProperty("--indent",null),this.style.setProperty("--indent-min",null),$(this).removeClass("cmnt-align-start odd"),$(this).addClass("cmnt-align-center"))});requestAnimationFrame(function(){checkGCDepth(a)})}
function drawConnections(a){return $jscomp.executeAsyncGenerator(function(){function c(a){return(parseFloat(getComputedStyle(a.parentElement).fontSize)||16)-(parseFloat(getComputedStyle(a.parentElement).top)||0)}function b(a){var b=a.ownerDocument.createRange();b.selectNodeContents(a);a=b.getClientRects();if(0<a.length)return a[0]}function d(d,v,F){for(;;)switch(e){case 0:$(a).find(".curved_arrow,.gc_line").remove(),C=a.ownerDocument,q=parseFloat(getComputedStyle(C.documentElement).fontSize),l=$(a).offset(),
t=l.left,m=l.top,p=C.defaultView,n=p.scrollX-t,r=p.scrollY-m,h={lineWidth:q/8,size:q/3,strokeStyle:"#FFCC99",header:!1},k={lineWidth:q/8,size:q/3,strokeStyle:"#FFCC99"},g=[],f=null==a.getClientRects()[0]?0:a.getClientRects()[0].top,$(a).find(".line-end").each(function(){var a=f+parseFloat(getComputedStyle(this).lineHeight);g.push({top:f,bottom:a});f=a}),$(a).find("[data-mfd]").each(function(){var d=getLeafNodes([this]),e=$(a).find(".sem.mfd-"+this.dataset.mfd)[0];if(null==e)return!0;e=getLeafNodes([e]);
var f=d[0],l=d.slice(-1)[0],p=e[0],t=e.slice(-1)[0];t.parentElement.classList.contains("line-end")&&(t=e.slice(-2)[0]);e=b(f);d=b(l);var m=b(p),v=b(t);if(!(e&&d&&m&&v))return!0;f=e.top+c(f);l=d.top+c(l);p=m.top+c(p);t=v.top+c(t);for(var D=parseFloat(getComputedStyle(a).width)||0,E=0,A,B,x=n,w=r,y=n,z=r,F=!1,G=[],H=$jscomp.makeIterator(g),u=H.next();!u.done;u=H.next())if(u=u.value,v.top<u.bottom&&e.top>u.bottom){F=!0;A=v;B=e;x+=e.left+q/3;w+=f-q;y+=v.right-q/3;z+=t-q;h.p0x=0;k.p0y=z;k.p0x=D;k.p1y=
z;break}else if(m.top>u.bottom&&d.top<u.bottom){F=!0;A=d;B=m;x+=d.right-q/3;w+=l-q;y+=m.left+q/3;z+=p-q;h.p0x=D;k.p0y=z;k.p0x=0;k.p1y=z;break}else if(v.top>u.top&&e.top>u.top&&v.top<u.bottom&&e.top<u.bottom&&v.x<e.x){A=v;B=e;x+=e.left+q/3;w+=f-q;y+=v.right-q/3;z+=t-q;h.p0x=(x+y)/2;k.p0y=w;k.p0x=(x+y)/2;k.p1y=w;break}else if(m.top>u.top&&d.top>u.top&&m.top<u.bottom&&d.top<u.bottom&&m.x>d.x){A=d;B=m;x+=d.right-q/3;w+=l-q;y+=m.left+q/3;z+=p-q;h.p0x=(x+y)/2;k.p0y=w;k.p0x=(x+y)/2;k.p1y=w;break}if(!A||
!B)return!0;var I=Math.min(A.top,B.top),J=Math.max(A.top,B.top);g.forEach(function(b){b.top>I&&b.bottom<J&&G.push(b.bottom-a.getClientRects()[0].top-q)});E=15+.03*(B.left+2*q/3-A.right+(F?D*(G.length+1):0));h.className="curved_arrow start mfd"+this.dataset.mfd;k.className="curved_arrow end mfd"+this.dataset.mfd;h.p0y=w-E;h.p1x=x;h.p1y=w-E;h.p2x=x;h.p2y=w;k.p0y-=E;k.p1x=y;k.p1y-=E;k.p2x=y;k.p2y=z;$(a).curvedArrow(h);$(a).curvedArrow(k);G.forEach(function(b){requestAnimationFrame(function(){var c=E,
d=h.size-h.lineWidth,e=C.createElement("canvas");a.append(e);e.className=h.className.replace("start","btwn");e.style.position="absolute";e.style.top=b-c-d+"px";e.style.left=0-d+"px";e.dataset.height=c;c=e.getContext("2d");e.style.width=2*d+D+"px";e.style.height=2*d+h.lineWidth+"px";var f=window.devicePixelRatio||1;e.width=(2*d+D)*f;e.height=(2*d+h.lineWidth)*f;c.scale(f,f);c.strokeStyle=h.strokeStyle;c.lineWidth=h.lineWidth;c.moveTo(d,d);c.lineTo(D+d,d);c.stroke()})})}),$(a).find("[data-gc-lv]").each(function(){var b=
getComputedStyle(this,"::after"),c=this.getClientRects()[$(this).is(".odd")?1:0],d=parseFloat(b.top)+r+c.top;b={p0x:parseFloat(b.left)+n+c.left,p0y:d+.35*q,p1y:d+.35*q,curve:!1,lineWidth:1,header:!1,size:2,className:"gc_line",strokeStyle:"rgb(158,175,234)"};$(this).is(".cls,.ncls,.acls,.advcls,.phr,.adjphr,.tor")?(d=this.previousElementSibling.getClientRects(),d=d[d.length-1],b.p1x=n+c.left-.25*q,b.p2x=b.p1x,b.p2y=r+d.top+.17*d.height):(b.p1x=n+c.left+.25*q,b.p2x=b.p1x,b.p2y=r+c.top);$(a).curvedArrow(b)}),
e=-1;default:return{value:void 0,done:!0}}}var e=0,f,g,k,h,r,n,p,m,t,l,q,C,v={next:function(a){return d(0,a,void 0)},throw:function(a){return d(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();v[Symbol.iterator]=function(){return this};return v}())}
function adjustLineHeight(a){function c(a,c){a=a.parentElement;a=$(a).parents(".sem").add($(a).is(".sem")?a:null);for(var d=a.length,e=0,f=0,g=0;g<d;g++){var h=a.get(g),k=h.getClientRects(),l=k[0];k=k[1];l=!$(h).is(".odd")&&16>Math.max(Math.abs(l.left-c.left),Math.abs(l.top-c.top));k=$(h).is(".odd")&&null!=k&&16>Math.max(Math.abs(k.left-c.left),Math.abs(k.top-c.top));var n=$(h).parents("[data-rc]").get(0)||($(h).is("[data-rc]")?h:null),m=void 0;null!=n&&(m=parseFloat(getComputedStyle(n).paddingBottom),
f=Math.max(f,m));n=getComputedStyle(h,"::before");$(h).is("[data-rc]")&&k&&isFinite(parseFloat(n.bottom))?f=Math.max(f,m,0-parseFloat(n.bottom)+(portraitList.matches?parseFloat(n.paddingBottom):0)-.5*parseFloat(n.lineHeight)+.5*parseFloat(n.fontSize)):$(h).is("[data-rc]")&&l&&isFinite(parseFloat(n.top))&&(f=Math.max(f,m,parseFloat(n.top)-1.35*b+(portraitList.matches?parseFloat(n.paddingBottom):0)+.5*parseFloat(n.lineHeight)+.5*parseFloat(n.fontSize)));$(h).is("[data-gc]")&&(l||k)&&(l=getComputedStyle(h,
"::after"),e=Math.max(e,$(h).is(".odd")?(parseFloat(l.bottom)||0)+.5*parseFloat(l.lineHeight)+.5*parseFloat(l.fontSize):.5*parseFloat(l.fontSize)-parseFloat(l.top)-.5*parseFloat(l.lineHeight)))}return{upperHeight:e,lowerHeight:f}}var b=parseFloat(getComputedStyle(a.ownerDocument.documentElement).fontSize);a.style.lineHeight="1rem";for(var d=getLeafNodes([a]).filter(function(a){return 3==a.nodeType}),e=0,f=0,g=0,k=0,h=0,r=0,n=d.length;r<n;r++){var p=d[r],m=new Range;m.selectNode(p);m=m.getClientRects()[0];
if(null!=m&&null!=p.data&&null!=p.data.match(/[^\s]/)){var t=m.height;if($(p.parentElement).is(".etc-start,.etc-end,.cls-start,.cls-end")){t=1.35*b;var l=parseFloat(getComputedStyle(p.parentElement).top),q=.66*m.height,C=.16*q+l-.23*t;k=Math.max(k,.84*q-l-.77*t);h=Math.max(h,C)}null!=p.parentElement&&p.parentElement.classList.contains("line-end")?(p.parentElement.style.lineHeight=Math.max(g,1.35*b+k+f+(0<e?.5*b:0))+"px",f=h,r==n-1?a.style.paddingBottom=h+"px":h=k=g=0,e++):(g=Math.max(g,t),p=c(p,m),
k=Math.max(k,p.upperHeight),h=Math.max(h,p.lowerHeight))}}requestAnimationFrame(function(){drawConnections(a)})}function getLeafNodes(a,c){c=void 0===c?[]:c;for(var b=0,d=a.length;b<d;b++)null!=a[b]&&(a[b].childNodes&&0!==a[b].childNodes.length?c=getLeafNodes(a[b].childNodes,c):c.push(a[b]));return c}
function printPreview(a){a=$.extend({obj2print:"body",style:"",script:null,width:"670",height:screen.height-105,top:0,left:"center",resizable:"yes",scrollbars:"yes",status:"no",title:"인쇄 미리보기"},a);"center"==a.left&&(a.left=screen.width/2-a.width/2);$(a.obj2print).find(" input").each(function(){$(this).attr("value",$(this).val())});$(a.obj2print).find(" textarea").each(function(){$(this).html($(this).val())});for(var c=document.head.cloneNode(!0),b=c.querySelectorAll("script:not([src])"),d=b.length,
e=0;e<d;e++)c.removeChild(b[e]);b=a.template.cloneNode(!0);d=document.querySelectorAll(a.obj2print);e=d.length;if(a.template)for(var f=b.querySelector(".page-body"),g=0;g<e;g++)f.appendChild(d[g].cloneNode(!0));c="<!DOCTYPE html><html><head>"+c.innerHTML+a.style+"</head><body class='print-section mx-auto'>"+b.innerHTML+"</body></html>";b="newWindow"+(new Date).getMilliseconds();var k=window.open("",b,"width="+a.width+",top="+a.top+",height="+a.height+",left="+a.left+",resizable="+a.resizable+",scrollbars="+
a.scrollbars+",status="+a.status),h=k.document;h.write(c);h.title=a.title;$(h).on("click",".print-btn",function(){k.print()}).on("change",".selectSize",function(){$(h).find(".print-section").css("width",this.value.split("/")[0]+"mm").css("height",this.value.split("/")[1]+"mm");$(h).find(".semantics-result").each(function(){correctMarkLine(this)})});setTimeout(function(){function a(){c<d&&(b[c].removeAttribute("style"),correctMarkLine(b[c]),c++,requestAnimationFrame(a))}var b=h.querySelectorAll(".semantics-result"),
c=0,d=b.length;a()},2E3)}
function drawTokenTree(a,c,b){return $jscomp.executeAsyncGenerator(function(){function d(d,p,m){for(;;)switch(e){case 0:if("undefined"!=typeof a&&"undefined"!=typeof c&&0!=c.length){e=1;break}console.error("Can't draw token tree. Either tokenList or container is null.");e=-1;return{value:void 0,done:!0};case 1:if("undefined"!=typeof google&&"undefined"!=typeof google.visualization){e=2;break}e=3;return{value:$.getScript("https://www.gstatic.com/charts/loader.js"),done:!1};case 3:if(1!=d){e=4;break}e=
-1;throw m;case 4:case 2:if(google.visualization&&google.visualization.OrgChart){e=5;break}e=7;return{value:google.charts.load("current",{packages:["orgchart"]}),done:!1};case 7:if(1!=d){e=8;break}e=-1;throw m;case 8:google.charts.setOnLoadCallback(function(){return $jscomp.executeAsyncGenerator(function(){function d(d,f,g){for(;;)switch(e){case 0:return e=1,{value:drawTokenTree(a,c,b),done:!1};case 1:if(1!=d){e=2;break}e=-1;throw g;case 2:e=-1;default:return{value:void 0,done:!0}}}var e=0,f={next:function(a){return d(0,
a,void 0)},throw:function(a){return d(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();f[Symbol.iterator]=function(){return this};return f}())});e=6;break;case 5:h={allowHtml:!0,size:"large",allowCollapse:!0,nodeClass:"node"},Object.assign(h,b),k=new google.visualization.DataTable,k.addColumn("string","Index"),k.addColumn("string","Name and Desc"),k.addColumn("string","ToolTip"),g=c[0].ownerDocument.createElement("div"),g.className="tokentree-result",
c.append(g),a.forEach(function(a){k.addRow([{v:a.tokenIndex.toString(),f:'<span class="node-label">'+a.edgeLabel+'</span><hr style="padding:0"><div class="node-desc"><span class="node-text">'+a.tokenText+'</span><br><span class="node-part">('+a.partOfSpeech+')</span><hr style="padding:0"><span class="node-index">'+a.tokenIndex+'</span><span class="node-range">('+a.tokenStart+"~"+a.tokenEnd+")</span></div>"},a.dependencyIndex.toString(),"원형 : "+a.lemma])}),f=new google.visualization.OrgChart(g),f.draw(k,
h);case 6:e=-1;default:return{value:void 0,done:!0}}}var e=0,f,g,k,h,r={next:function(a){return d(0,a,void 0)},throw:function(a){return d(1,void 0,a)},return:function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();r[Symbol.iterator]=function(){return this};return r}())}
function readyDictFor(a){function c(a){a=d("touchstart"==a.type?a.touches[0].clientX:a.clientX,"touchstart"==a.type?a.touches[0].clientY:a.clientY);null!=a&&b({keyword:a.text,desc:["뜻 1입니다.","뜻 2입니다.","뜻 3입니다."]},a.x,a.y)}function b(b,c,d){c=a.ownerDocument.getElementById("dictModuleArea");var e=a.ownerDocument.createElement("div");c.append(e);e.className="dictionary-box p-3";e.style.right="5px";e.style.top="5px";e.innerHTML='<h4 class="header">'+b.keyword+"</h4><hr>";b.desc.forEach(function(a){e.innerHTML+=
'<p class="desc">'+a+"</p>"})}function d(b,c){var d=getSelection();if(d.isCollapsed){if(a.ownerDocument.caretPositionFromPoint)b=a.ownerDocument.caretPositionFromPoint(b,c);else if(a.ownerDocument.caretRangeFromPoint)b=a.ownerDocument.caretRangeFromPoint(b,c);else return console.error("[This browser supports neither document.caretRangeFromPoint nor document.caretPositionFromPoint.]"),null;if("function"===typeof Selection.prototype.modify){d=getSelection();d.modify("move","backward","word");d.modify("extend",
"forward","word");var e=d.toString().trim();if(0==d.rangeCount)return null;b=d.getRangeAt(0).getClientRects()[0];var f=b.x;var g=b.y+b.height;if(b.y>c||c>b.y+b.height)return null}else"function"===typeof Range.prototype.expand?(b.expand("word"),e=b.toString().trim(),c=b.getClientRects()[0],f=c.x,g=c.y+c.height):console.error("[This browser supports neither Selection.modify nor Range.expand.]");if(null==e.match(/\w+/gi))return null}else e=d.toString().trim(),c=d.getRangeAt(0).getClientRects()[0],f=
c.x,g=c.y+c.height;return{text:e,x:f,y:g}}if(null==a.ownerDocument.getElementById("dictModuleArea")){var e=a.ownerDocument.createElement("div");e.id="dictModuleArea";a.ownerDocument.body.append(e);a.ownerDocument.body.addEventListener("mousedown",function(a){0==$(a.target).closest(".dictionary-box").length&&$(".dictionary-box").remove()})}a.removeEventListener("mouseup",c);a.addEventListener("mouseup",c)};
