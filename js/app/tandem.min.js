!function(q,D,f){q.cachedScript=q.cachedScript||function(e,t){return q.ajax(q.extend(t||{},{dataType:"script",cache:!0,url:e}))};let e=null;"undefined"!=typeof pako&&void 0!==pako.inflate&&void 0!==pako.deflate||(e=q.cachedScript("https://cdn.jsdelivr.net/npm/pako/dist/pako.min.js"));const W=function(e,t){var t=q.extend({p0x:50,p0y:50,p1x:70,p1y:10,p2x:100,p2y:100,size:30,lineWidth:10,strokeStyle:"rgb(245,238,49)",header:!0,curve:!0,className:"curved_arrow"},t),a=f.createElement("canvas"),n=t.curve?g(t.p0x,t.p1x,t.p2x):[Math.min(t.p0x,t.p1x,t.p2x),Math.max(t.p0x,t.p1x,t.p2x)],r=t.curve?g(t.p0y,t.p1y,t.p2y):[Math.min(t.p0y,t.p1y,t.p2y),Math.max(t.p0y,t.p1y,t.p2y)],l=t.size-t.lineWidth,s=n[0]-l,n=n[1]+l,o=r[0]-l,r=r[1]+l,l=t.p0x-s,i=t.p0y-o,c=t.p1x-s,d=t.p1y-o,p=t.p2x-s,m=t.p2y-o,h=(a.className=t.className,a.style.position="absolute",a.style.top=o+"px",a.style.left=s+"px",a.getContext("2d")),u=D.devicePixelRatio||1;a.style.width=n-s+"px",a.style.height=r-o+"px",a.width=(n-s)*u,a.height=(r-o)*u,h.scale(u,u),h.strokeStyle=t.strokeStyle,h.lineWidth=t.lineWidth,h.lineJoin="round",h.lineCap="round",h.beginPath(),h.moveTo(l,i),Math.abs(c-l)>Math.abs(d-m)&&h.lineTo(l<c?c-Math.abs(d-m):c+Math.abs(d-m),d),t.curve?h.quadraticCurveTo(c,d,p,m):(h.lineTo(c,d),h.lineTo(p,m)),h.stroke(),t.header&&(n=Math.atan2(m-d,p-c),h.translate(p,m),h.rotate(n+1),h.beginPath(),h.moveTo(0,t.size),h.lineTo(0,0),h.stroke(),h.rotate(-2),h.lineTo(0,-t.size),h.stroke(),h.rotate(1-n),h.translate(-p,-m)),e.appendChild(a)};function g(t,a,n){let r=t,l=n;for(let e=1e-4;e<=1;e+=1e-4){var s=(1-e)*(1-e)*t+2*(1-e)*e*a+e*e*n;s<r&&(r=s),s>l&&(l=s)}return[Math.round(r),Math.round(l)]}let u=D.matchMedia("(orientation: portrait)");const l={"ΐ":'"start"',"Α":'"end"',"Β":'"rcomment"',"Γ":'"gcomment"',"Δ":'"markType"',"Ε":'"hasModificand"',"Σ":'"S"',"Τ":'"V"',"Υ":'"O"',"Φ":'"C"',"Χ":'"OC"',"Ω":'"M"',"Ϊ":'"A"',"Ѐ":'"CCLS"',"Ё":'"NCLS"',"Ђ":'"ACLS"',"Ѓ":'"ADVCLS"',"а":'"PHR"',"б":'"ADJPHR"',"в":'"TOR"',"г":'"GER"',"д":'"PTC"',"е":'"RCM"',"ж":'"ADVPHR"',"з":'"PTCPHR"',"Ⴀ":'"subj"',"Ⴁ":'"verb"',"Ⴂ":'"obj"',"Ⴃ":'"comp"',"Ⴄ":'"o.c"',"Ⴅ":'"prep.o."',"Ⴆ":'"i.o."',"Ⴇ":'"d.o."',"Ⴈ":'"(의)s"',"Ⴉ":'"mod"',"ა":'"[조건 | 양보] 부사절"',"ბ":'"조건 부사절"',"გ":'"[시간 | 양보] 부사절"',"დ":'"[시간 | 양태] 부사절"',"ე":'"시간 부사절"',"ვ":'"이유 부사절"',"ზ":'"양보 부사절"',"თ":'"부사절"',"ი":'"등위절"',"კ":'"병렬절"',"ლ":'"관계사"',"Ꭰ":'"수식"',"Ꭱ":'"to부정사"',"Ꭲ":'"의미상 주어"',"Ꭳ":'"동명사"',"Ꭴ":'"전치사구"',"Ꭵ":'"전치사구(adj)"',"Ꭶ":'"분사"',"Ꭷ":'"부사구"',"Ꭸ":'"부사적 보충어"',"᐀":"true","ᐁ":"false","ᐂ":"null","ᐰ":"},{"};async function o(e){return JSON.parse(function(t){var a=Object.keys(l),n=a.length;for(let e=0;e<n;e++)t=t.replaceAll(a[e],l[a[e]]);return t}((t=function(a){var e=new ArrayBuffer(+a.length),n=new Uint8Array(e);for(let e=0,t=a.length;e<t;e++)n[e]=a.charCodeAt(e);return n}(atob(e)),await a(()=>pako.inflate(new Uint16Array(t),{to:"string"})))));var t}function i(e,a){if(i.pos=a?i.pos:0,a=a||[],null!=e.classList&&e.classList.contains("semantics-result")){var n=e.childNodes;for(let e=0,t=n.length;e<t;e++)a=i(n[e],a)}else if(!e.hasChildNodes()||"SPAN"!=e.nodeName||e.classList.contains("line-end")||e.classList.contains("brkt"))3==e.nodeType&&(i.pos+=e.textContent.replaceAll(/[\n\u200b]/gm,"").length);else{var t,r,l,s=e.className.match(/\b(s|v|o|c|oc|a|m|rcm|tor|ger|ptc|conj|phr|adjphr|advphr|ptcphr|cls|ncls|acls|advcls|ccls|pcls)\b/);null!=s&&(t=e.querySelectorAll(".brkt").length,r=e.textContent.replaceAll(/[\n\u200b]/gm,"").length,a.push({markType:s[0].toUpperCase(),start:i.pos,end:i.pos+r-t,rcomment:e.dataset.rc,gcomment:e.dataset.gc,hasModificand:null!=e.dataset.mfd}));for(l of e.childNodes)a=i(l,a)}return a}async function a(t){return"undefined"==typeof pako||void 0===pako.deflate?null!=e?e.then(()=>t.call(this)):new Promise(e=>q.cachedScript("https://cdn.jsdelivr.net/npm/pako/dist/pako.min.js").then(()=>e(t.call(this))).fail(async()=>{await q.cachedScript("https://static.findsvoc.com/js/public/pako.min.js"),e(t.call(this))})):t.call(this)}const M=["S","V","O","C","OC","A","M"],A=["CONJ","PHR","ADJPHR","ADVPHR","PTCPHR","CLS","ACLS","NCLS","ADVCLS","CCLS","PCLS"];function c(a,n,e){(n=n||[]).sort(function(e,t){return e.start-t.start||t.end-e.end}),n=n.filter(function(e){return!!e.markType&&0<e.markType.length});let r=0;for(;null!=n[r+1];){var l=n[r],s=n[r+1],t=n[r+2];if(null!=t&&l.start==t.start&&l.end==t.end)n.splice(r+2,1);else if(-1<["PHR","ADJPHR","TOR","PTC"].indexOf(l.markType)){var o=Math.min(r+3,n.length);for(let e=r+1;e<o;e++){var i=n[e];if(null!=i&&l.start==i.start)if(l.markType==i.markType||"PHR"==i.markType&&"ADJPHR"==l.markType)n.splice(e,1);else if("PHR"==l.markType&&"ADJPHR"==i.markType){n.splice(r,1);break}}}else if(-1<["ACLS","ADVCLS"].indexOf(l.markType)&&null!=l.rcomment)s.start==l.start&&s.end==l.end&&"V"==s.markType?n.splice(r,2,Object.assign(l,{rcomment:null}),Object.assign(s,{markType:"M",rcomment:"M"})):n.splice(r+1,0,{markType:"M",rcomment:l.rcomment,start:l.start,end:l.end});else if("V"==l.markType){let e=r+1,t=s;for(;null!=t&&t.start>=l.start&&t.end<=l.end;)"V"==t.markType&&n.splice(e,1),t=n[++e]}r++}for(r=0;null!=n[r+1];){var c=n[r],d=n[r+1];c.start==d.start&&c.end==d.end&&(-1<M.indexOf(c.markType)&&-1==M.indexOf(d.markType)?n.splice(r,2,d,c):-1<M.indexOf(c.markType)&&-1<M.indexOf(d.markType)&&n.splice(r+1,1)),r++}var p=[n[0]];for(r=1;null!=n[r];){var m=p.slice(-1)[0],h=n[r];m.start==h.start&&m.end==h.end&&m.markType==h.markType||p.push(h),r++}let u=null;for(r=0;null!=p[r];){var f,g,y=p[r];null!=u&&y.start==u.start&&y.end==u.end?-1<A.indexOf(u.markType)?null==y.rcomment&&null==y.gcomment||"V"!=y.markType&&-1<["CCLS","PCLS"].indexOf(u.markType)?p.splice(p.indexOf(y),1):(f=p.indexOf(u),u.brkt=y.markType.toLowerCase(),p.splice(f,1,u)):-1<A.indexOf(y.markType)?null==u.rcomment&&null==u.gcomment||"V"!=u.markType&&-1<["CCLS","PCLS"].indexOf(y.markType)?p.splice(p.indexOf(u),1):(f=p.indexOf(y),g=p.indexOf(u),y.brkt=u.markType.toLowerCase(),p.splice(f,1,u),p.splice(g,1,y)):u=y:u=y,r++}var v=[],x=[],C=[];for(r=0;null!=p[r];){var b=p[r];x.push({mark:b.markType,type:"start",index:b.start,modifier:b.hasModificand,brkt:b.brkt,rcomment:b.rcomment,gcomment:b.gcomment}),C.push({mark:b.markType,type:"end",index:b.end,brkt:b.brkt}),r++}C.sort(function(e,t){return t.index-e.index}),C.reverse(),(v=x.concat(C)).sort(function(e,t){return e.index!=t.index?e.index-t.index:e.type!=t.type?"start"==e.type?1:-1:0});var k=e.dataset.seq||D.semanticSequence++||0;e.dataset.seq=k;let S=0,T=0;for(r=0;null!=v[r];){let e="",t=v[r];"start"==t.type?(e+='<span class="sem '+t.mark.toLowerCase(),"RCM"==t.mark&&(e+=` mfd-${k}-`+ ++T),e+='"',t.modifier&&(e+=` data-mfd="${k}-${T}"`),t.rcomment&&(e+=` data-rc="${t.rcomment.match(/\W/)?t.rcomment:t.rcomment.substring(0,1).toUpperCase()}"`),t.gcomment&&(e+=` data-gc="${t.gcomment}"`),e+=">"):e+="</span>",a=a.substring(0,S+t.index)+e+a.substring(S+t.index),S+=e.length,r++}e.insertAdjacentHTML("afterbegin",a)}const r=".s, .v, .o, .c, .oc, .a, .m";function d(e){var a=e.querySelectorAll(".sem"),t=1&e.matches(r);let n=0;if(e.removeAttribute("data-lv"),0<a.length&&!e.matches(".sem.v"))for(let e=0,t=a.length;e<t;e++)n=Math.max(n,d(a[e]));return t&&(0<n?(e.classList.remove("inner"),e.classList.add("outer"),e.setAttribute("data-lv",n)):(e.classList.remove("outer"),e.classList.add("inner"))),t+n}function p(s){q(s.querySelectorAll(".cls-start,.cls-end,.ccls-start,.ccls-end,.phr-start,.phr-end,.adjphr-start,.adjphr-end,.conj-start,.conj-end,.etc-start,.etc-end")).remove(),h(s),q(s).find(".acls, .ncls, .advcls, .cls, .ccls, .pcls, .phr, .adjphr, .advphr, .ptcphr, .conj").add(q(s).find(".sem[data-lv]").filter(function(){return this.textContent.length!=this.parentElement.textContent.length||q(this.parentElement).is(".ptc, .tor")})).get().reverse().forEach(function(t){var e=t.className.match(/\bacls\b|\bncls\b|\badvcls\b|\bcls\b|\bccls\b|pcls\b|\bphr\b|\badjphr\b|\badvphr\b|\bptcphr\b|\bconj\b/);let a,n="etc";switch(e=null!=e&&0<e.length?e[0]:""){case"ccls":case"pcls":n="ccls",a=["{","}"];break;case"conj":case"phr":case"adjphr":n=e,a=["(",")"];break;case"advphr":case"ptcphr":n="phr",a=["(",")"];break;case"acls":case"advcls":case"ncls":case"cls":n=e+" cls",a=["[","]"];break;default:a=["[","]"]}var r=s.ownerDocument.createElement("span"),l=s.ownerDocument.createElement("span");if(r.className=`brkt ${n}-start`,l.className=`brkt  ${n}-end`,r.textContent=a[0],l.textContent=a[1],-1<a.indexOf("[")){let e=Number(t.dataset.lv||0);q(t).find(".sem[data-lv],.brkt[data-lv]").each(function(){e=t.textContent.replaceAll(/[\[\]\(\)\{\}]/g,"").length>this.textContent.replaceAll(/[\[\]\(\)\{\}]/g,"").length?Math.max(e,Number(this.dataset.lv)+1):Math.max(e,Number(this.dataset.lv))}),0<e&&(t.dataset.lv=e,r.dataset.lv=e,l.dataset.lv=e)}t.insertAdjacentElement("beforebegin",r),t.insertAdjacentElement("afterend",l)})}function t(a){const p=parseFloat(getComputedStyle(a.ownerDocument.documentElement).fontSize),m=a.querySelectorAll(".sem[data-gc]"),h=m.length;for(let e=0;e<h;e++)requestAnimationFrame(()=>{{var l=e,s=m[l];let a,n,r=0;delete s.dataset.gcLv;for(let t=l;t<h;t++){var o=m[t],i=o.getClientRects(),i=o.classList.contains("odd")&&1<i.length?i[1]:i[0],c=null==i?0:i.top;let e=null==i?0:i.left;var d=getComputedStyle(o,"::after");if(o.classList.contains("rcm")?o.classList.contains("cmnt-align-start")?e-=p:null!=i&&null!=d&&(e+=i.width-parseFloat(d.width)-parseFloat(d.right)):e+=Math.max(0,parseFloat(d.left)),t>l){i=m[t-1],d=parseFloat(getComputedStyle(i,"::after").width);if(!(Math.abs(a-c)<p&&Math.abs(n-e)<5+d)||o.classList.contains("rcm")&&i.classList.contains("rcm")&&o.textContent==i.textContent)break;s.dataset.gcLv=++r}a=c,n=e}}});requestAnimationFrame(()=>{{var s=a;q(s).find(".line-end").remove();let e=V([s]).filter(function(e){return 3==e.nodeType}),r=(e.forEach(function(e){let t=e,a=t.data.substring(1).match(/[\s-]/);for(;3==t.nodeType&&null!=a&&-1<a.index;)t.splitText(a.index+("-"==a[0]?2:1)),t=t.nextSibling,a=t.data.substring(1).match(/[\s-]/)}),e=V([s]).filter(function(e){return 3==e.nodeType}),0),l;const o=s.clientWidth/2;e.forEach(function(e,t){var a=new Range,n=(a.selectNode(e),a.getClientRects()[0]);null!=n&&n.x<r-o&&((n=s.ownerDocument.createElement("span")).className="sem line-end",n.insertAdjacentHTML("afterbegin","&#8203;\n"),null!=l.data&&null!=l.data.match(/[\S]/)?l.replaceWith(l,n):l.replaceWith(n,l)),l=e,a.selectNode(l),0<a.getClientRects().length&&(n=Array.from(a.getClientRects()).slice(-1)[0],r=n.x+n.width)});var t=s.ownerDocument.createElement("span");t.className="sem line-end",t.insertAdjacentHTML("afterbegin","&#8203;\n"),s.appendChild(t),requestAnimationFrame(function(){n(s)})}})}function m(r){var a,l,s=r.getElementsByClassName("sem inner"),o=/\b([svca]|oc)\b inner/;for(let e=0,t=s.length;e<t;e++){let n=s[e];if(null!=n)if(0<n.getElementsByClassName("sem inner").length){let a=new Range;var i=n.childNodes;for(let e=0,t=i.length;e<t;e++){var c,d=i[e];1==d.nodeType&&0<d.getElementsByClassName("inner").length?d.childNodes.forEach(function(e){var t;1==e.nodeType&&e.matches(".inner")||((t=r.ownerDocument.createElement("span")).className="sem v inner",t.dataset.rc=n.dataset.rc,t.dataset.rcMin=n.dataset.rcMin,a.selectNode(e),a.surroundContents(t))}):1==d.nodeType&&d.matches(".inner")||((c=r.ownerDocument.createElement("span")).className="sem v inner",c.dataset.rc=n.dataset.rc,c.dataset.rcMin=n.dataset.rcMin,a.selectNode(d),a.surroundContents(c))}n.outerHTML=n.innerHTML}else n.matches(".s,.v,.c,.oc,.a")&&null!=(a=n.nextSibling)&&(l=a.nextSibling,1==a.nodeType&&null!=a.className.match(o)&&n.className.match(o)[0]==a.className.match(o)[0]?(n.insertAdjacentHTML("beforeEnd",a.innerHTML),a.remove(),e--):1==a.nodeType||null!=a.data&&null!=a.data.match(/[^\s]/)||null==l||1!=l.nodeType||null==l.className.match(o)||n.className.match(o)[0]!=l.className.match(o)[0]||(n.insertAdjacentHTML("beforeEnd",a.data+l.innerHTML),a.remove(),l.remove(),e--))}}function h(e){var t=e.querySelectorAll(".sem:not(.line-end)"),a=new Text;a.data=" ";for(let e=t.length-1;0<=e;e--){var n=t[e];if(n.hasChildNodes()){for(;3==n.firstChild.nodeType&&n.firstChild.data.startsWith(" ");)n.firstChild.data=n.firstChild.data.substring(1),n.parentNode.insertBefore(a.cloneNode(),n);for(;3==n.lastChild.nodeType&&n.lastChild.data.endsWith(" ");)n.lastChild.data=n.lastChild.data.slice(0,-1),n.parentNode.insertBefore(a.cloneNode(),n.nextSibling)}}}function y(e){e.removeAttribute("style"),e.querySelectorAll(".sem").forEach(e=>{0==e.textContent.length&&e.remove()});var a=e.querySelectorAll(".cmnt-align-center,.cmnt-align-start");for(let e=0,t=a.length;e<t;e++)a[e].classList.remove("cmnt-align-center","cmnt-align-start","odd");var n=e.querySelectorAll(".sem:not(.line-end)");for(let e=0,t=n.length;e<t;e++){var r,l=n[e],s=l.getClientRects();1<s.length?l.matches(".rcm")||s[0].width<10?(r=l.matches(".rcm")?s[s.length-1].right-s[0].left:s[1].left-s[0].left,s=l.matches(".rcm")?r:r+s[1].width/2,l.style.setProperty("--indent",r+"px"),l.style.setProperty("--indent-min",s+"px"),l.classList.remove("cmnt-align-start"),l.classList.add("cmnt-align-center","odd")):(l.style.setProperty("--indent",null),l.style.setProperty("--indent-min",null),l.classList.remove("cmnt-align-center","odd"),l.classList.add("cmnt-align-start")):(l.style.setProperty("--indent",null),l.style.setProperty("--indent-min",null),l.classList.remove("cmnt-align-start","odd"),l.classList.add("cmnt-align-center"))}requestAnimationFrame(function(){t(e)})}function v(h){var a=h.querySelectorAll(".curved_arrow,.gc_line");for(let e=0,t=a.length;e<t;e++)a[e].parentNode&&a[e].parentNode.removeChild(a[e]);var e=h.ownerDocument,u=parseFloat(getComputedStyle(e.documentElement).fontSize),t=q(h).offset(),n=t.left,t=t.top,e=e.defaultView,f=e.scrollX-n,g=e.scrollY-t;let y={lineWidth:u/8,size:u/3,strokeStyle:"#FFCC99",header:!1},v={lineWidth:u/8,size:u/3,strokeStyle:"#FFCC99"},x=[],r=null==h.getClientRects()[0]?0:h.getClientRects()[0].top;var l=h.querySelectorAll(".line-end");for(let e=0,t=l.length;e<t;e++){var s=r+parseFloat(getComputedStyle(l[e]).lineHeight);x.push({top:r,bottom:s}),r=s}var o=h.querySelectorAll("[data-mfd]");for(let e=0,t=o.length;e<t;e++){var C=o[e],c=V([C]),b=h.querySelector(".sem.mfd-"+C.dataset.mfd);if(null!=b){var d=V([b]),k=c.length,S=d.length;let e=0,t=k-1,a=0,n=S-1,o=c[e++],i=c[t--],p=d[a++],m=d[n--];for(m.parentElement.classList.contains("line-end")&&(m=d[n--]);0==o.length&&e<k;)o=c[e++];for(;0==i.length&&0<=t;)i=c[t--];for(;0==p.length&&a<S;)p=d[a++];for(;0==m.length&&0<=n;)m=d[n--];var b=z(o)[0],T=z(i)[1],M=z(p)[0],A=z(m)[1];if(b&&T&&M&&A){var N=b.top+B(o),L=T.top+B(i),w=M.top+B(p),F=A.top+B(m);const P=parseFloat(getComputedStyle(h).width)||0;let c,e,t,a=f,n=g,r=f,l=g,s=!1,d=[];if(F+A.height<N?(s=!0,e=A,t=b,a+=b.left+u/3,n+=N-u,r+=A.right-u/3,l+=F-u,y.p0x=0,v.p0y=l,v.p0x=P,v.p1y=l):w>L+T.height?(s=!0,e=T,t=M,a+=T.right-u/3,n+=L-u,r+=M.left+u/3,l+=w-u,y.p0x=P,v.p0y=l,v.p0x=0,v.p1y=l):A.x<b.x?(e=A,t=b,a+=b.left+u/3,n+=N-u,r+=A.right-u/3,l+=F-u,y.p0x=(a+r)/2,v.p0y=n,v.p0x=(a+r)/2,v.p1y=n):M.x>T.x&&(e=T,t=M,a+=T.right-u/3,n+=L-u,r+=M.left+u/3,l+=w-u,y.p0x=(a+r)/2,v.p0y=n,v.p0x=(a+r)/2,v.p1y=n),e&&t){var R=Math.min(e.top,t.top),O=Math.max(e.top,t.top);for(let e=0,t=x.length;e<t;e++){var j=x[e];j.top>R&&j.bottom<O&&d.push(j.bottom-h.getClientRects()[0].top-u)}b=t.left+2*u/3-e.right+(s?P*(d.length+1):0);c=15+.1*Math.log(b),y.className="curved_arrow start mfd"+C.dataset.mfd,v.className="curved_arrow end mfd"+C.dataset.mfd,y.p0y=n-c,y.p1x=a,y.p1y=n-c,y.p2x=a,y.p2y=n,v.p0y-=c,v.p1x=r,v.p1y-=c,v.p2x=r,v.p2y=l,W(h,y),W(h,v);for(let i=0,e=d.length;i<e;i++)requestAnimationFrame(function(){var e=0,t=d[i],a=c,n=P,r=h,l=y,s=l.size-l.lineWidth,o=r.ownerDocument.createElement("canvas"),t=(o.className=l.className.replace("start","btwn"),o.style.position="absolute",o.style.top=t-a-s+"px",o.style.left=e-s+"px",o.dataset.height=a,o.getContext("2d"));o.style.width=2*s+n+"px",o.style.height=2*s+l.lineWidth+"px",e=D.devicePixelRatio||1,o.width=(2*s+n)*e,o.height=(2*s+l.lineWidth)*e,t.scale(e,e),t.strokeStyle=l.strokeStyle,t.lineWidth=l.lineWidth,t.moveTo(s,s),t.lineTo(n+s,s),t.stroke(),r.append(o)})}}}}var i=h.querySelectorAll("[data-gc-lv]");for(let t=0,e=i.length;t<e;t++){var p=i[t],m=getComputedStyle(p,"::after"),H=p.getClientRects()[p.matches(".odd")?1:0],E=(p.matches(".odd")?u-parseFloat(m.bottom):parseFloat(m.top))+g+H.top;let e={p0x:Math.max(7,parseFloat(m.left))+f+H.left,p0y:E+.35*u,p1y:E+.35*u,curve:!1,lineWidth:1,header:!1,size:2,className:"gc_line",strokeStyle:"rgb(158,175,234)"};p.matches(".cls,.ncls,.acls,.advcls,.phr,.adjphr,.advphr,.ptcphr")?(E=(m=p.previousElementSibling.getClientRects())[m.length-1],e.p1x=f+H.left-.25*u,e.p2x=e.p1x,e.p2y=g+(p.matches(".odd")?H.top:E.top+.17*E.height)):(e.p1x=f+H.left+.25*u,e.p2x=e.p1x,e.p2y=g+H.top),requestAnimationFrame(()=>W(h,e))}}function z(e){var t=e.ownerDocument.createRange(),e=(t.selectNodeContents(e),t.getClientRects());return 0<e.length?[e[0],e[e.length-1]]:[null,null]}function B(e){return(parseFloat(getComputedStyle(e.parentElement).fontSize)||16)-(parseFloat(getComputedStyle(e.parentElement).top)||0)}const n=function(a){var r=parseFloat(getComputedStyle(a.ownerDocument.documentElement).fontSize),n=(a.style.lineHeight="1rem",V([a]).filter(function(e){return 3==e.nodeType}));let l=0,s=0,o=0,i=0,c=0;for(let e=0,t=n.length;e<t;e++){var d=n[e],p=new Range,p=(p.selectNode(d),p.getClientRects()[0]),m=d.parentElement;if(null!=p&&null!=d.data&&null!=d.data.match(/[^\s]/)){let n=p.height;if(m.matches(".etc-start,.etc-end,.cls-start,.cls-end")){n=1.35*r;var h=parseFloat(getComputedStyle(m).top);let e,t,a;a=m.matches(".cls-start,.cls-end")?(e=963*p.height/1469,t=811*e/963-h-n,152*e/963+h):(e=755*p.height/1131,t=726*e/755-h-n,29*e/755+h),i=Math.max(i,t),c=Math.max(c,a)}null!=m&&m.classList.contains("line-end")?(m.style.lineHeight=Math.max(o,1.35*r+i+s+(0<l?.5*r:0))+"px",s=c,e==t-1?a.style.paddingBottom=c+"px":(o=0,i=0,c=0),l++):(o=Math.max(o,n),h=function(e,a,n){var e=e.parentElement,r=q(e).parents(".sem").add(e.matches(".sem")?e:null),l=r.length;let s=0,o=0;for(let t=0;t<l;t++){var i=r.get(t),c=i.getClientRects(),d=c[0],c=c[1],d=!i.matches(".odd")&&Math.max(Math.abs(d.left-a.left),Math.abs(d.top-a.top))<16,c=i.matches(".odd")&&null!=c&&Math.max(Math.abs(c.left-a.left),Math.abs(c.top-a.top))<16,p=q(i).parents("[data-rc]").get(0)||(i.matches("[data-rc]")?i:null);let e;null!=p&&(e=parseFloat(getComputedStyle(p).paddingBottom),o=Math.max(o,e));var p=getComputedStyle(i,"::before");i.matches("[data-rc]")&&c&&isFinite(parseFloat(p.bottom))?o=Math.max(o,e,0-parseFloat(p.bottom)+(u.matches?parseFloat(p.paddingBottom):0)-.5*parseFloat(p.lineHeight)+.5*parseFloat(p.fontSize)):i.matches("[data-rc]")&&d&&isFinite(parseFloat(p.top))&&(o=Math.max(o,e,parseFloat(p.top)-1.35*n+(u.matches?parseFloat(p.paddingBottom):0)+.5*parseFloat(p.lineHeight)+.5*parseFloat(p.fontSize))),i.matches("[data-gc]")&&(d||c)&&(p=getComputedStyle(i,"::after"),s=Math.max(s,i.matches(".odd")?(parseFloat(p.bottom)||0)+.5*parseFloat(p.lineHeight)+.5*parseFloat(p.fontSize):.5*parseFloat(p.fontSize)-parseFloat(p.top)-.5*parseFloat(p.lineHeight)))}return{upperHeight:s,lowerHeight:o}}(d,p,r),i=Math.max(i,h.upperHeight),c=Math.max(c,h.lowerHeight))}}requestAnimationFrame(function(){v(a)})};function V(a,n=[]){for(let e=0,t=a.length;e<t;e++)null!=a[e]&&(a[e].childNodes&&0!==a[e].childNodes.length?n=V(a[e].childNodes,n):n.push(a[e]));return n}D.tandem={showSemanticAnalysis:async function(e,t,a){D.semanticSequence=D.semanticSequence||0;let n=a[0].ownerDocument.createElement("div");var r;n.className="semantics-result",e=e,t=await o(t)||[],(r=n).innerHTML="",c(e,t,r),d(r),m(r),h(r),p(r),a.append(n);let l,s=D.innerWidth;return D.addEventListener("resize",()=>{if(!q(n).is(":visible")||s==D.innerWidth)return!0;clearTimeout(l),s=D.innerWidth,l=setTimeout(()=>requestAnimationFrame(()=>y(n)),100)}),y(n),n},checkGCDepth:t,checkPOSDepth:d,svocText2Arr:o,cleanSvocDOMs:function(e){var a=(e=e.cloneNode(!0)).querySelectorAll(".brkt,.line-end,canvas.curved_arrow");for(let e=0,t=a.length;e<t;e++)a[e].remove();return e},correctMarkLine:y,createBasicDOMs:c,drawConnections:v,splitInners:m,getSvocBytes:async function(e){return async function(e){return btoa(function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}(await async function(e){return a(()=>pako.deflate(e))}(function(t){var a=Object.keys(l).reduce(function(e,t){return e[l[t]]=t,e},{}),n=Object.keys(a),r=n.length;for(let e=0;e<r;e++)t=t.replaceAll(n[e],a[n[e]]);return t}(JSON.stringify(e)))))}(i(e))},trimTextContent:h,wrapWithBracket:p}}(jQuery,this,document);