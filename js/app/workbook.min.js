function postJSON(o,e,t,a){return $.ajax({url:o,type:"POST",data:JSON.stringify(e),contentType:"application/json",success:t,error:a})}function postForm(o,e,t,a){$.ajax({url:o,type:"POST",data:e,processData:!1,contentType:!1,success:t,error:a})}function subscribeWorkbook(o,e){$.post("/workbook/subscription/"+o,e).fail(()=>alertModal("워크북 구독에 실패했습니다. 화면 새로고침 후 다시 시도해 주세요."))}function addWorkbook(o){postForm("/workbook/mybook/add",o,o=>{alert("등록이 완료되었습니다."),location.assign("/workbook/mybook/edit/"+ntoa(o))},()=>alertModal("등록에 실패했습니다. 잠시 후 다시 시도해 주세요."))}function editWorkbookPlainInfo(e,o,t){postJSON(e,o,t,o=>{403==o.status?location.assign("/membership/expired"):alertModal(e.match(/\/edit\/type/)?`워크북 공개를 위한 최소 문장수는 50개이며 ${50-xhr.responseJSON}개가 부족합니다.`:"수정에 실패했습니다.")})}function editWorkbookMultiInfo(o,e,t){postForm(o,e,t,o=>{403==o.status?location.assign("/membership/expired"):alertModal("수정에 실패했습니다.")})}function editPassageTitle(o,e,t){$.ajax({type:"post",url:"/workbook/passage/title/edit",data:o,success:e,error:o=>{403==o.status?location.assign("/membership/expired"):t()}})}function deletePassage(o,e){postJSON("/workbook/mybook/del/passage",o,e,o=>{403==o.status?location.assign("/membership/expired"):alertModal("지문삭제에 실패했습니다.")})}function editPassageSample(o,e){postJSON("/workbook/mybook/edit/passage/sample",o,e,o=>{403==o.status?location.assign("/membership/expired"):alertModal("샘플정보 변경에 실패했습니다.")})}function editPassageSentece(o,e,t){postJSON("/workbook/mybook/edit/passage",o,e,t)}function delPassageSentence(o,e){$.post("/workbook/mybook/del/sentence?passageId="+o.passageId+"&sentenceId="+o.sentenceId,e).fail(()=>alertModal("문장 삭제에 실패했습니다."))}function editSentenceTrans(o,e){postJSON("/workbook/sentence/kor/edit",o,e,()=>alertModal("해석 등록/수정이 실패했습니다."))}function delSentenceTrans(o,e){postJSON("/workbook/sentence/kor/del",o,e,()=>alertModal("삭제 실패했습니다. 페이지 새로고침 후 다시 시도해 주세요."))}function addPassageNote(o,e){postJSON("/workbook/passage/note/add",o,e,()=>alertModal("노트 등록에 실패했습니다. 페이지 새로고침 후 다시 시도해 주세요."))}function addSentenceNote(o,e){postJSON("/workbook/sentence/note/add",o,e,()=>alertModal("노트 등록에 실패했습니다. 페이지 새로고침 후 다시 시도해 주세요."))}function editNote(o,e,t){postJSON("/workbook/"+o+"/note/edit",e,t,()=>alertModal("수정할 수 없습니다. 페이지 새로고침 후 다시 시도해 주세요."))}function delNote(o,e,t){postJSON("/workbook/"+o+"/note/del",e,()=>{alertModal("삭제되었습니다."),t()},()=>alertModal("삭제 실패했습니다."))}function editSvoc(o,e,t){return postJSON("/workbook/sentence/svoc/edit",o,e,t??(()=>alertModal("구문분석 등록에 실패했습니다. 페이지 새로고침 후 다시 시도해 주세요.")))}function delSvoc(o,e){postJSON("/workbook/sentence/svoc/del",o,e,()=>alertModal("삭제 실패했습니다."))}