function pageinit(){var e=parseInt(Cookies.get("BRLT")||0);const o=300-e,a=(o<=0?$("#text").prop("placeholder","금일 사용량을 모두 소진했습니다. 내일 다시 찾아와 주세요.").prop("disabled",!0).addClass("disabled-textarea"):($(".demo-counter").text("0/"+o),$("#text").attr("maxlength",o).prop("placeholder",`하루에 300자까지 분석할 수 있습니다. (금일 사용량 ${e}/300자)`)),$(".input-example-section .example-unit"));a.length;let i=Math.floor(5.99*Math.random());if(function e(){let t=a.eq(i);t.css("z-index",1).css("opacity","0").fadeTo(200,1,()=>{setTimeout(()=>{t.fadeTo(0,0,()=>{t.css("z-index","auto"),i=(i+1)%6,e()})},8e3)})}(),!(o<=0)){$(".input-form-section .search-btn").click(function(){var e,t=$("#text");300<=parseInt(Cookies.get("BRLT")||0)?(this.classList.add("disabled"),t.val(null).prop("placeholder","금일 사용량을 모두 소진했습니다. 내일 다시 찾아와 주세요.").prop("disabled",!0).addClass("disabled-textarea")):(e=t.val().trim().quoteNormalize().replace(/[A-Za-z0-9]/,e=>e.toUpperCase()),t.val(e),$("#beforeSubmitModal").modal("show"))}),$(".js-submit-btn").click(function(){var e=$("#text"),t=e.val().trim().quoteNormalize().shrinkSpaces().capitalize1st();$("#hiddenText").val(t),e.val(null),$(".addForm").submit()}),$(".example-unit").click(function(){var e=this.querySelector(".sentence").innerText;$("#text").val(e).trigger("input")});let i;$("#text").on("input",function(e){var t=function(){var e=$("#text").val(),t=$("#text")[0].selectionStart;e=extractHighlightInfo(e,t);return $("#text").val(e.input),$("#text").highlightWithinTextarea({highlight:[{className:"bg-fc-yellow",highlight:["×"]},{className:"bg-fc-purple corrected",highlight:e.arr}]}),$("#text").focus()[0].setSelectionRange(e.inputCursor,e.inputCursor),[e.input.includes("×"),0<e.arr.length]}(),a=this.value.trim().quoteNormalize().length,a=($(".demo-counter").text(a+"/"+o),$(".reset-textarea").toggle(0<a),t[0]||0==a);$(".invalid-input-warning").toggle(t[0]),$(".corrected-input-info").toggle(t[1]),$(".input-form-section .search-btn").toggleClass("disabled",a),togglePlayable(!a),anime({targets:".hwt-backdrop mark.corrected",keyframes:[{opacity:0,easing:"linear"},{opacity:1,easing:"linear"},{opacity:0,easing:"linear"},{opacity:1,easing:"linear"},{opacity:0,easing:"cubicBezier(.7, .0, 1.0, 0.3)",duration:1e3},{display:"none",easing:"steps(1)"}]}),a?((i=i||new bootstrap.Tooltip(this,{title:`영어 문장을 ${o}자 이내로 입력하세요.`,customClass:"demo-text-invalid",offset:({placement:e})=>"top"==e?[100,0]:[0,0]})).enable(),i.show()):null!=i&&(i.hide(),i.disable())}).on("paste",function(e){e=((e.originalEvent.clipboardData||window.clipboardData).getData("Text")||"").length;this.value.length-getSelection().toString().length+e>o&&$("#warnLength").modal("show")}),$(".addForm").on("reset",function(){$(".demo-counter").text("0/"+o),null!=i&&(i.hide(),i.disable()),$("#text").focus(),$(".reset-textarea").hide(),$(".input-form-section .search-btn").addClass("disabled")}),$(".addForm").on("submit",function(){$("lottie-player:visible").each((e,t)=>{t.stop()}),$("#loadingModal").modal("show")})}}