function pageinit(e){$(".js-view-battlebook").each(function(){this.href="/battlebook/overview/"+ntoa(this.dataset.id),delete this.dataset.id}),$(".js-edit-battlebook").each(function(){this.href="/battlebook/mybook/edit/"+ntoa(this.dataset.id),delete this.dataset.id}),$(document).on("mouseover",".book-unit:not(.blank)",function(){$(this).find(".hover-menu").fadeIn(300)}).on("mouseleave",".book-unit:not(.blank)",function(){$(this).find(".hover-menu").fadeOut(300)});let i=$('.book-list-section[data-type="myall"]').get(0);function n(e,p){return createElement(Array.from(e?.content,({battleBookId:e,bbid:t,title:o,bookType:a,description:i,imagePath:n,completed:l,price:s,openType:r},c)=>{var b="book-cover"+(n?"":" default"),d=n?{backgroundImage:`url(/resource/battlebook/cover/${n})`}:{};return{el:"div",className:"book-unit",dataset:{bid:e||t,title:o,bookType:a,description:i,imagePath:n||"",completed:l,price:s,openType:r},children:[{el:p?"div":"a",className:"book-cover-bg position-relative"+(p?"":" d-inline-block"),href:p?"":"/battlebook/overview/"+ntoa(e),children:[{el:"div",className:b,children:[{el:"img",src:"https://static.findsvoc.com/images/app/workbook/bookcover/book_paper.png",style:d},p?{el:"div",className:"hover-menu position-absolute top-50 start-50 translate-middle",style:{zIndex:1,display:"none"},children:[{el:"a",className:"btn btn-fico js-view-battlebook",href:"/battlebook/overview/"+ntoa(e),textContent:"상세보기"},{el:"a",className:"btn btn-fico js-edit-battlebook mt-2",href:"/battlebook/mybook/edit/"+ntoa(e),textContent:"상세보기"}]}:""]}]},{el:"div",className:"book-title-section",children:[{el:"span",className:"book-title-text",textContent:o}]}]}}))}function l(t){var e=t.totalPages,o=t.number+1,t=10*(Math.ceil(o/10)-1)+1,a=10+t<=e?10+t-1:e,i=[];for(let e=t;e<=a;e++)i.push({el:"span",className:"page-item swiper-pagination-bullet"+(o==e?" swiper-pagination-bullet-active":""),"data-pagenum":e});return 10<t&&i.unshift({el:"span",className:"page-item",role:"button","data-pagenum":t-1,innerHTML:"&laquo;"}),a<e&&i.push({el:"span",className:"page-item",role:"button","data-pagenum":a+1,innerHTML:"&raquo;"}),i}$(".js-list-book-btn").on("click",function(){let t=this.dataset.type,o=$(`.book-list-section[data-type="${t}"]`).get(0),a=o.querySelector(".pagination-section");i!=o&&$.ajax({url:`/battlebook/${t}/list`,success:e=>{o.querySelectorAll(".book-unit:not(.blank)").forEach(e=>e.remove()),o.insertBefore(n(e,t.startsWith("my")),a),a.querySelector(".swiper-pagination").replaceChildren(createElement(l(e))),$(i).add(o).fadeToggle(),i=o},error:()=>{alertModal("배틀북 목록을 조회하지 못 했습니다.\n 화면을 새로고침하거나 다시 로그인해 주세요.")}})}),$(".pagination-section").on("click",".page-item",function(){var e=this.dataset.pagenum;let t=this.closest(".pagination-section"),o=this.closest(".book-list-section"),a=t.dataset.type;$.ajax({url:`/battlebook/${a}/list`,data:{pageNum:e},success:e=>{o.querySelectorAll(".book-unit:not(.blank)").forEach(e=>e.remove()),o.insertBefore(n(e,a.startsWith("my")),t),t.querySelector(".swiper-pagination").replaceChildren(createElement(l(e)))},error:()=>{alertModal("배틀북 목록을 조회하지 못 했습니다.\n 화면을 새로고침하거나 다시 로그인해 주세요.")}})})}