async function pageinit(){let e=document.querySelector("#ssamClassPagination"),n=document.querySelector("#classListDiv tbody");$.fn.autocomplete||(document.head.append(createElement({el:"link",rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/jquery-ui-dist@1.13.1/jquery-ui.min.css"})),await $.ajax({url:"https://cdn.jsdelivr.net/npm/jquery-ui-dist@1.13.1/jquery-ui.min.js",dataType:"script",cache:!0})),$(document).on("click",".thlink[data-value]",function(){var a=this.dataset.value,e=n.dataset.searchForm,s=$(`#${e} #sortName`),t=$(`#${e} #asc`);a==s.val()?t.val("true"!=t.val()):s.val(this.dataset.value),$("#"+e).trigger("submit","sort")}),$(document).on("click",".page-link",function(){var a=e.dataset.searchForm;$(`#${a} #page`).val(parseInt(this.dataset.pagenum)),$("#"+a).trigger("submit","pageNav")}),$(document).on("click",".js-open-detail",function(){let e=this.closest("tr"),s=$("#ssamClassDetailSection"),t=e.dataset,n;s.is(".show")&&s.is($(e).next())?s.collapse("hide",()=>$("#ssamClassDetailContainer").append(s)):($(e).addClass("active").siblings("tr").removeClass("active"),$.getJSON("/adminxyz/ssam/view/"+t.ssamId,a=>{n=a,(async()=>{var a=$("#ssamClassDetailSection");a.find(".class-name-info").text($(e).find(".class-name-data").text()),a.find(".class-size-info").text($(e).find(".class-size-data").text()),a.find(".class-phone-info").text($(e).find(".class-phone-data").text()),a.find(".class-uri-info").text(location.origin+"/ssamclass/"+t.classUri).attr("href","/ssamclass/"+t.classUri),a.find(".address-info").text($(e).find(".address-data").text()),a.find(".postal-code-info").text(t.postalCode),a.find(".reg-date-info").text($(e).find(".reg-date-data").text()),a.find(".ssam-name-info").text(n.name),a.find(".ssam-work-place-info").text(n.workPlace),0<n?.image?.length?a.find(".ssam-image-info").removeClass("profile-default").css("background",`center / cover url(/resource/profile/images/${n.image}) no-repeat`):a.find(".ssam-image-info").addClass("profile-default").removeAttr("style"),$(".emblem-image-path-data").is(".profile-default")?a.find(".emblem-image-path-info").css("background","").addClass("logo-default"):a.find(".emblem-image-path-info").removeClass("logo-default").css("background",$(".emblem-image-path-data").css("background")),0<t.bannerImagePath?.length?a.find(".banner-image-path-info").removeClass("logo-default").css("background",`center / contain url(/resource/ssam/class/${t.bannerImagePath}) no-repeat`):a.find(".banner-image-path-info").css("background","").addClass("logo-default"),a.find(".class-intro-info").html(t.classIntro)})(t),s.is(".show")&&s[0].scrollIntoView({behavior:"instant",block:"nearest"}),$(e).after(s.collapse("show"))}).fail(()=>alertModal("쌤정보 조회 실패")))}).on("shown.bs.collapse","#ssamClassDetailSection",function(){window.scrollTo(0,document.getElementById("ssamClassDetailSection").offsetTop)})}