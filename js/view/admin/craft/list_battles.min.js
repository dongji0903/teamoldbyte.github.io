function pageinit(e){const t=document.querySelector("#battleListDiv tbody");var l=e?.totalPages,a=e?.number+1,n=10*(Math.floor((a-1)/10)+1-1)+1,o=10+n<=l?10+n-1:l;t.appendChild(createElement(Array.from(e.content,t=>({el:"tr",children:[{el:"td",textContent:t.rnum},{el:"td",className:"text-center",textContent:t.bid},{el:"td",className:"text-center",textContent:t.battleType},{el:"td",className:"text-center",textContent:t.engLevel},{el:"td",className:"text-center",textContent:t.grammarTitle},{el:"td",className:"text-start js-open-detail",style:"width:300px","data-sentenceid":t.sentenceId,onclick:function(){const e=document.querySelector("#battleDetailSection .ask-detail-section");e.querySelector(".battle-type").value=t.battleType,e.querySelector(".battle-ask").replaceChildren(createElement(Array.from(craft.createAskOptions(t.battleType,craft.getAsks(t.battleType)),e=>(e.value==t.ask&&(e.selected=!0),e)))),e.querySelector(".battle-engLevel").value=t.engLevel,e.querySelector(".battle-source").value=t.source,e.querySelector(".battle-context").replaceChildren(createElement(craft?.createBattleContext(t.eng,t))),e.querySelector(".battle-diffLevel").value=t.diffLevel,e.querySelector(".battle-category").value=t.categoryId,e.querySelector(".battle-askTag").value=t.askTag,e.querySelector(".battle-comment").value=t.comment},children:[{el:"a",style:{display:"inline-block",width:"300px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},textContent:t.eng}]},{el:"td",className:"text-center",textContent:t.askTag},{el:"td",className:"text-center",textContent:t.source},{el:"td",className:"text-center",textContent:new Date(t.regDate).format("yyyy-MM-dd")}]}))));const s=document.querySelector("#battlePagination"),c=[];10<n&&c.push({el:"li",className:"page-item","aria-label":"Previous",children:[{el:"a",className:"page-link","aria-hidden":!0,"data-pagenum":n-1,innerHTML:"&laquo;"}]});for(let e=n;e<=o;e++)c.push({el:"li",className:"page-item"+(e==a?" active":""),children:[{el:"a",className:"page-link","data-pagenum":e,textContent:e}]});o<l&&c.push({el:"li",className:"page-item","aria-label":"Next",children:[{el:"a",className:"page-link","aria-hidden":!0,"data-pagenum":o+1,innerHTML:"&raquo;"}]}),s.appendChild(createElement(c)),$("#battleListDiv .sortMark").hide();e=$("#searchFormHidden_list #sortName").val();const r=$(`.thlink[data-value="${e}"]+.sortMark`);0<r.length&&r.html("false"==$("#searchFormHidden_list #asc").val()?"▼":"▲").show(),$(".thlink[data-value]").click(function(){var e=this.dataset.value;const t=$("#searchFormHidden_list #sortName"),l=$("#searchFormHidden_list #asc");e==t.val()?l.val("true"!=l.val()):t.val(this.dataset.value),$("#pageForm").submit()}),$(".page-link").click(function(){$("#searchFormHidden_list #page").val(parseInt(this.dataset.pagenum)),$("#pageForm").submit()}),$(document).on("click",".js-open-detail",function(){var e=this.dataset.sentenceid;const l=this.textContent;function t(e){const t=document.querySelector(".explain-detail-section");tandem.showSemanticAnalysis(l,e.svocTag.svocBytes,$(t).find(".svocInfo").empty()),t.querySelector(".korInfo").replaceChildren(createElement(Array.from(e.korList,e=>({el:"div",textContent:e.kor})))),t.querySelector(".wordInfo").replaceChildren(createElement(Array.from(e.wordList,(e,t)=>({el:"span",class:"one-word-unit-section"+(0<t?" ms-3":""),children:[{el:"span",class:"title fw-bold text-blue-700",textContent:e.title}].concat(Array.from(e.senseList,e=>({el:"span",class:"one-part-unit-section ms-2",children:[{el:"span",class:"part text-palegreen",textContent:e.partType},{el:"span",class:"meaning ms-1",textContent:e.meaning}]})))}))))}bootstrap.Tab.getOrCreateInstance(document.querySelector("#viewAskDetail")).show(),window.scrollTo(0,document.getElementById("battleDetailSection").offsetTop),$(this).data("battleAnswerInfo")?t($(this).data("battleAnswerInfo")):$.getJSON("/adminxyz/craft/battle/"+e,e=>{t(e),$(this).data("battleAnswerInfo",e)}).fail(()=>alert("해설 상세정보를 조회하지 못했습니다."))}).on("shown.bs.tab","#viewDescDetail",function(){tandem.correctMarkLine(document.querySelector("#battleDetailSection .svocInfo .semantics-result"))}),document.getElementById("battleDetailSection").appendChild(createElement([{el:"nav",children:[{el:"div",class:"nav nav-tabs",role:"tablist",children:[{el:"button",id:"viewAskDetail",class:"nav-link",type:"button","data-bs-toggle":"pill",role:"tab","aria-controls":"nav-ask","aria-selected":"true","data-bs-target":"#battleDetailSection .ask-detail-section",children:[{el:"span",class:"material-icons-outlined fs-16px align-text-bottom",textContent:"inventory_2"},{el:"span",class:"tab-title",textContent:"문제 상세보기"}]},{el:"button",id:"viewDescDetail",class:"nav-link",type:"button","data-bs-toggle":"pill",role:"tab","aria-controls":"nav-explain","aria-selected":"false","data-bs-target":"#battleDetailSection .explain-detail-section",children:[{el:"span",class:"material-icons-outlined fs-16px align-text-bottom",textContent:"inventory_2"},{el:"span",class:"tab-title",textContent:"해설 상세보기"}]}]}]},{el:"div",class:"contents-section tab-content mt-3",children:[{el:"div",class:"ask-detail-section tab-pane fade",role:"tabpanel","aria-labelledby":"nav-ask-tab",children:[{el:"div",className:"battleTopInfo row",children:[{el:"div",className:"col-2 row",children:[{el:"label",className:"col-auto lh-1 my-auto text-fc-purple fw-bold",textContent:"종류"},{el:"select",className:"form-select col battle-type",children:Array.from(["1","2","3","4","5"],e=>({el:"option",value:e,textContent:"#"+e}))}]},{el:"div",className:"col-5 row",children:[{el:"label",className:"col-auto lh-1 my-auto text-fc-purple fw-bold",textContent:"질문"},{el:"select",className:"form-select col battle-ask"}]},{el:"div",className:"col-2 row",children:[{el:"label",className:"col-auto lh-1 my-auto text-fc-purple fw-bold",textContent:"계급"},{el:"input",className:"form-select col battle-engLevel",readonly:!0}]},{el:"div",className:"col-3 row",children:[{el:"label",className:"col-auto lh-1 my-auto text-fc-purple fw-bold",textContent:"출처"},{el:"input",type:"text",className:"form-control col battle-source"}]}]},{el:"div",className:"battle-context my-3 p-3 border rounded"},{el:"div",className:"battleSubInfo row",children:[{el:"div",className:"col-4 row",children:[{el:"label",className:"col-auto lh-1 my-auto text-fc-purple fw-bold",textContent:"난이도"},{el:"select",className:"form-select col battle-diffLevel",children:Array.from([["쉬움","A"],["보통","B"],["어려움","B"]],([e,t])=>({el:"option",value:t,textContent:e}))}]},{el:"div",className:"col-4 row",children:[{el:"label",className:"col-auto lh-1 my-auto text-fc-purple fw-bold",textContent:"문법"},{el:"select",className:"form-select col battle-category"}]},{el:"div",className:"col-4 row",children:[{el:"label",className:"col-auto lh-1 my-auto text-fc-purple fw-bold",textContent:"태그"},{el:"input",type:"text",className:"form-control col battle-askTag"}]}]},{el:"div",className:"battleComment row mt-3",children:[{el:"label",className:"col-auto lh-1 my-auto text-fc-purple fw-bold",textContent:"한줄 코멘트"},{el:"textarea",className:"form-control col battle-comment"}]}]},{el:"div",class:"explain-detail-section tab-pane fade",role:"tabpanel","aria-labelledby":"nav-explain-tab",children:[{el:"div",className:"svocInfo my-3 py-3 position-relative d-block"},{el:"div",className:"korInfo text-fc-red"},{el:"div",className:"wordInfo word-section mt-3"}]}]}])),$.getJSON("/grammar/category/list",e=>{document.querySelector("#battleDetailSection .battle-category").appendChild(createElement(Array.from(e,e=>({el:"option",value:e.cid,textContent:(e.parentCategory?"└─ ":"")+e.title}))))})}