$(function(){var e=$("#inputComplete");const d=$("#newPassageText"),o=$("#dividedResult"),l=$("#beforeInput"),s=$("#afterInput"),t=$("#addBtn"),a=$("#hiddenDivs"),i=$("#passageTitlesForm");e.on("click",async function(e,t){var i=d.val().split(/[\n\v]+/g).map(e=>e.trim()).filter(e=>0<e.length);o.empty();for(let e=0,t=i.length;e<t;e++){var n=a.find(".divided-title").clone();n.appendTo(o),n.fadeIn().find(":text").val(i[e]).trigger("input")}l.addClass("opacity-50 pe-none"),$(".before-msg").hide(),s.removeClass("d-none opacity-50 pe-none")}),$("#resetBtn").on("click",function(){l.removeClass("opacity-50 pe-none"),$(".before-msg").show(),s.addClass("d-none opacity-50 pe-none")}),$(document).on("input",".divided-title :text",function(){var e=this.value.trim();$(this).toggleClass("is-invalid",0===e.length||100<e.length),t.prop("disabled",0<i.find(".is-invalid").length)}),$(document).on("click",".js-delete-title-btn",function(){confirmModal("삭제하시겠습니까?",()=>{const t=$(this).closest(".divided-title");t.fadeOut(function(){var e=t.siblings(".divided-title").last();t.remove(),e.find(":text").trigger("input")})})}),$(document).on("click",".js-insert-title-btn",async function(){var e=a.find(".divided-title").clone();$(this).closest(".divided-title").after(e),e.fadeIn().find(":text").trigger("input"),t.prop("disabled",!0)})});