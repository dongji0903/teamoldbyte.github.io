function pageinit(t){const a=0!=t.mid;let l,n=[];var e,o,s={el:"div",id:"done-info-modal",className:"modal fade done-info-modal",tabIndex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"donationModalLabel",ariaHidden:"true",children:[{el:"div",className:"modal-dialog modal-dialog-centered",children:[{el:"div",className:"modal-content shadow",children:[{el:"div",className:"modal-header",children:[{el:"h5",id:"donationModalLabel",className:"modal-title text-lmd fw-bold w-100 text-center",textContent:"후원자 정보"},{el:"button",type:"button",id:"closeDonation",className:"btn-close position-absolute top-3 end-3"}]},{el:"div",className:"modal-body",children:[{el:"div",id:"phase-1",className:"payment-phase input-form-section border-0 collapse show",children:[{el:"form",id:"paymentForm",className:"needs-validation",noValidate:!0,children:[{el:"div",className:"input-name row g-3 align-items-center mb-3",children:[{el:"div",className:"col-3 col-md-2 text-end mb-auto",children:[{el:"label",htmlFor:"inputName",className:"col-form-label text-smd fw-bold",textContent:"후원자명"}]},{el:"div",className:"col-9 col-md-10 position-relative",children:[{el:"input",type:"text",id:"inputName",name:"remitter",maxLength:10,value:t.remitter,autocomplete:"off",className:"form-control","aria-describedby":"nameHelpInline",required:!0},{el:"div",className:"invalid-feedback",innerHTML:"&nbsp;&nbsp;후원자명은 비울 수 없습니다."}]},{el:"div",className:"help-text-section col-9 col-md-10 ms-auto my-0",children:[{el:"span",id:"nameHelpInline",className:"form-text ms-0 ms-lg-2",textContent:"송금 때 사용하실 송금자명과 동일한 이름으로 입력해 주세요."}]}]},{el:"div",className:"input-phone row g-3 align-items-center mb-3",children:[{el:"div",className:"col-3 col-md-2 text-end mb-auto",children:[{el:"label",htmlFor:"inputPhone",className:"col-form-label text-smd fw-bold",textContent:"전화번호"}]},{el:"div",className:"col-9 col-md-10 position-relative",children:[{el:"input",type:"text",id:"inputPhone",name:"phone",className:"form-control",placeholder:"예) 01012345678",autocomplete:"off",pattern:"[0-9]{8,11}",value:t.phone,"aria-describedby":"phoneHelpInline",required:!0},{el:"div",className:"invalid-feedback",innerHTML:"&nbsp;&nbsp;올바른 전화번호를 입력해 주십시오."}]},{el:"div",className:"help-text-section col-9 col-md-10 ms-auto my-0",children:[{el:"span",id:"phoneHelpInline",className:"form-text ms-0 ms-lg-2",textContent:"전화번호는 암호화 되니 반드시 숫자로 입력해 주세요."}]}]},{el:"div",className:"input-email row g-3 align-items-center mb-3",children:[{el:"div",className:"col-3 col-md-2 text-end mb-auto",children:[{el:"label",htmlFor:"inputEmail",className:"col-form-label text-smd fw-bold",textContent:"이메일"}]},{el:"div",className:"col-9 col-md-7 position-relative",children:[{el:"input",type:"email",id:"inputEmail",name:"email",value:t.email,className:"form-control","aria-describedby":"emailHelpInline",autocomplete:"off",required:!0},{el:"div",className:"invalid-feedback",innerHTML:"&nbsp;&nbsp;올바른 이메일을 입력해 주십시오."}]},{el:"div",className:"d-none d-md-block col-12 col-md-3 text-end mb-auto",children:[{el:"input",type:"email",className:"check-email-input form-control d-none",value:t.email,required:!0,maxLength:100},{el:"button",type:"button",className:"check-email-btn btn btn-outline-fico",disabled:!0,textContent:"중복 검사"}]},{el:"div",className:"help-text-section col-9 col-md-10 ms-auto my-0",children:[{el:"span",id:"emailHelpInline",className:"form-text ms-0 ms-lg-2",textContent:"생성될 계정의 이메일을 입력해 주세요."}]},{el:"div",className:"d-block d-md-none col-9 text-end mb-auto ms-auto mt-1",children:[{el:"input",type:"email",className:"check-email-input form-control d-none",value:t.email,required:!0,maxLength:100},{el:"button",type:"button",className:"check-email-btn btn btn-outline-fico w-100",disabled:!0,textContent:"중복 검사"}]}]},{el:"div",className:"button-section text-end mt-2",children:[{el:"button",type:"submit",className:"btn btn-fico",disabled:!0,textContent:"다음"}]}]}]},{el:"div",id:"phase-2",className:"payment-phase collapse",children:[{el:"div",className:"payment-info text-center",children:[{el:"p",children:[{el:"span",className:"name fw-bold",textContent:"fico"},{el:"br"},{el:"span",className:"price fw-bold"},"원을 결제합니다."]}]},{el:"div",className:"qr-images-section row g-0",children:[{el:"div",className:"qr-kakao-section text-center col-md-6 mx-auto my-3",children:[{el:"span",className:"d-block mx-auto mb-4",children:[{el:"span",className:"text-danger",children:["오류가 발생한 경우,",{el:"br"},"아래 메일로 문의해주세요."]},{el:"br"},"teamoldbyte@gmail.com",{el:"br"}]},{el:"span",className:"kakaopay-logo d-none d-md-block",children:[{el:"img",alt:"kakaopay",src:"https://static.findsvoc.com/images/common/etc/logo/kakaopay_ci.svg"}]},{el:"div",className:"pt-2",children:[{el:"img",className:"qr-image",alt:"QR코드",src:"https://static.findsvoc.com/images/common/qr-kakaopay.png"}]}]}]},{el:"div",className:"account-info-section text-center mb-1",children:[{el:"div",children:[{el:"span",className:"fw-bold d-block",textContent:"입금 계좌 안내"}]},{el:"div",children:[{el:"span",className:"name fw-bold",textContent:"카카오뱅크"},{el:"span",className:"account-num pe-1",textContent:"3333-04-8952631"},{el:"input",type:"hidden",id:"accountNum",value:"3333-04-8952631"},{el:"button",className:"btn btn-warning btn-copy far fa-copy",onclick:()=>window.navigator.clipboard.writeText($("#accountNum").val()),"data-bs-container":"body","data-bs-toggle":"popover","data-bs-placement":"top","data-bs-content":"copied",textContent:"복사"},{el:"span",className:"name d-block",textContent:"[예금주: 이승렬]"}]}]},{el:"div",className:"progress",children:[{el:"div",className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}]},{el:"div",className:"button-section text-center position-relative pt-3",children:[{el:"button",type:"button",id:"cancelPayment",className:"btn btn-outline-fico position-absolute top-2 start-0",textContent:"취소"},{el:"span",className:"waiting-msg placeholder-wave",textContent:"결제 대기 및 처리 중입니다..."},{el:"span",className:"d-block text-danger text-sm",innerHTML:"입금을 하시고 나면<br> 창을 끄지 말고 '다음'을 눌러주세요."},{el:"button",type:"button",className:"btn btn-fico position-absolute top-2 end-0","data-bs-toggle":"collapse","data-bs-target":"#phase-2,#phase-3",disabled:!0,textContent:"다음"}]}]},{el:"div",id:"phase-3",className:"payment-phase input-form-section border-0 collapse",children:[{el:"form",id:"membershipForm",className:"needs-validation",action:"/membership",method:"post",noValidate:!0,children:Array.from(["mid","phone","remitter","totalAmount"],e=>({el:"input",type:"hidden",id:e,name:e,value:t[e]})).concat([{el:"div",className:"input-email row g-3 align-items-center mb-3",children:[{el:"div",className:"col-3 col-md-2 text-end mb-auto",children:[{el:"label",className:"col-form-label text-smd fw-bold",textContent:"이메일"}]},{el:"div",className:"col-9 col-md-10 position-relative",children:[{el:"input",type:"email",name:"email",className:"form-control",value:t.email,"aria-describedby":"emailHelpInline",required:!a,readOnly:!0,maxLength:100},{el:"div",className:"invalid-feedback",innerHTML:"&nbsp;&nbsp;올바른 이메일을 입력해 주십시오."}]},{el:"div",className:"help-text-section col-9 col-md-10 ms-auto my-0",children:[{el:"span",id:"emailHelpInline",className:"form-text ms-2",textContent:"계정의 아이디로 사용될 이메일입니다."}]}]},{el:"div",className:"input-password row g-3 align-items-center mb-3",children:[{el:"div",className:"col-3 col-md-2 text-end mb-auto",children:[{el:"label",htmlFor:"passwd",className:"col-form-label text-smd fw-bold",textContent:"비밀번호"}]},{el:"div",className:"col-9 col-md-10 position-relative",children:[{el:"input",type:"password",className:"form-control",id:"passwd",name:"passwd",autocomplete:"off","aria-describedby":"passwordHelpInline",required:!a,pattern:".{8,16}"},{el:"div",className:"invalid-feedback",innerHTML:"&nbsp;&nbsp;8~16자의 영문 대소문자, 숫자, 특수문자만 가능합니다."}]},{el:"div",className:"help-text-section col-9 col-md-10 ms-auto my-0",children:[{el:"span",id:"passwordHelpInline",className:"form-text ms-2",textContent:"생성될 계정의 비밀번호를 입력해 주세요."}]}]},{el:"div",className:"input-password-check row g-3 align-items-center mb-3",children:[{el:"div",className:"col-3 col-md-2 text-end mb-auto",children:[{el:"label",htmlFor:"passwd",className:"col-form-label text-smd fw-bold",textContent:"비밀번호 확인"}]},{el:"div",className:"col-9 col-md-10 position-relative",children:[{el:"input",type:"password",id:"passwdCheck",className:"form-control",autocomplete:"off","aria-describedby":"passwdCheckHelpInline",required:!a},{el:"div",className:"invalid-feedback",innerHTML:"&nbsp;&nbsp;위에서 입력한 비밀번호와 맞지 않습니다."}]},{el:"div",className:"help-text-section col-9 col-md-10 ms-auto my-0",children:[{el:"span",id:"passwdCheckHelpInline",className:"form-text ms-2",textContent:"위에서 입력한 비밀번호를 한번 더 입력해 주세요."}]}]},{el:"div",className:"input-name row g-3 align-items-center mb-3",children:[{el:"div",className:"col-3 col-md-2 text-end mb-auto",children:[{el:"label",className:"col-form-label text-smd fw-bold",textContent:"이름"}]},{el:"div",className:"col-9 col-md-10 position-relative",children:[{el:"input",type:"text",name:"name",value:t.name,className:"form-control","aria-describedby":"nameHelpInline",required:!a,maxLength:10},{el:"div",className:"invalid-feedback",innerHTML:"&nbsp;&nbsp;이름은 비울 수 없습니다."}]},{el:"div",className:"help-text-section col-9 col-md-10 ms-auto my-0",children:[{el:"span",id:"nameHelpInline",className:"form-text ms-2",textContent:"계정 소유자의 이름을 입력하세요."}]}]},{el:"div",className:"input-email row g-3 align-items-center mb-3",children:[{el:"div",className:"col-3 col-md-2 text-end mb-auto",children:[{el:"label",className:"col-form-label text-smd fw-bold",textContent:"성별"}]},{el:"div",className:"col-9 col-md-10 position-relative",children:Array.from([["M","남성"],["F","여성"]],(e,l)=>({el:"div",className:"form-check form-check-inline",children:[{el:"input",type:"radio",className:"form-check-input",id:"sexCheck"+l,name:"sex",checked:t.sex==e[0],value:e[0],required:!a},{el:"label",htmlFor:"sexCheck"+l,className:"form-check-label",textContent:e[1]}]})).concat([{el:"div",className:"invalid-feedback",innerHTML:"&nbsp;&nbsp;성별을 선택해 주세요."}])},{el:"div",className:"help-text-section col-9 col-md-10 ms-auto my-0",children:[{el:"span",id:"sexHelpInline",className:"form-text ms-2",textContent:"성별을 선택해 주세요."}]}]},{el:"div",className:"input-birth row g-3 align-items-center mb-3",children:[{el:"div",className:"col-3 col-md-2 text-end mb-auto",children:[{el:"label",className:"col-form-label text-smd fw-bold",textContent:"출생연도"}]},{el:"div",className:"col-9 col-md-10 position-relative",children:[{el:"select",className:"form-select",name:"birthYear","aria-describedby":"birthHelpInline",required:!a,children:[{el:"option",disabled:!0,selected:!0,value:"",textContent:"--선택--"}].concat(Array.from(new Array(88),(e,l)=>{l=1920+l;return{el:"option",value:l,textContent:l,selected:t.birthYear==l}}).reverse())}]},{el:"div",className:"help-text-section col-9 col-md-10 ms-auto my-0",children:[{el:"span",id:"birthHelpInline",className:"form-text ms-2",textContent:"학습 컨텐츠 추천을 위해 출생연도를 입력해 주세요."}]}]},{el:"div",className:"button-section text-end mt-2",children:[{el:"button",type:"button",className:"btn btn-outline-fico","data-bs-toggle":"collapse","data-bs-target":"#phase-2,#phase-3",textContent:"이전"},{el:"button",type:"submit",className:"btn btn-fico",textContent:"완료"}]}])}]}]}]}]}]},i={el:"div",id:"check-modal",className:"check-modal-section modal fade",tabIndex:"-1","data-bs-backdrop":"static",children:[{el:"div",className:"modal-dialog modal-dialog-centered",children:[{el:"div",className:"modal-content border-0",children:[{el:"div",className:"modal-header bg-fc-purple",children:[{el:"h5",className:"modal-title text-white col-10",textContent:"이메일 중복 검사"},{el:"button",type:"button",className:"btn-close","data-bs-dismiss":"modal",ariaLabel:"Close"}]},{el:"div",className:"modal-body",children:[{el:"p",children:["해당 E-mail은 이미 ",{el:"b",textContent:"fico 계정"},"으로 등록되어 있습니다.",{el:"br"},"본인 계정일 경우 ",{el:"b",textContent:"로그인 후 마이 페이지에서 연장"},"해 주세요.",{el:"br"},{el:"br"},{el:"b",textContent:"비밀번호 재발급"},"이나 ",{el:"b",textContent:"계정 부정 사용 신고"},"를 하려면",{el:"br"},"teamoldbyte@gmail.com 으로 문의 바랍니다.",{el:"br"}]}]},{el:"div",className:"modal-footer justify-content-center",children:[{el:"button",type:"button",className:"btn btn-outline-fico","data-bs-dismiss":"modal",textContent:"다시 입력"},{el:"button",type:"button",className:"btn btn-fico status-submit",onclick:()=>location.assign("/auth/login"),textContent:"로그인"}]}]}]}]};devSize.isPhone()&&(e=.85*(o=$(".gallery").get(0)).offsetWidth,o=.075*o.offsetWidth,new Swiper(".swiper",{pagination:{el:".swiper-pagination"},width:e,slidesOffsetBefore:o,centeredSlides:!0,spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})),$(document).on("show.bs.modal","#done-info-modal",function(e){var e=e.relatedTarget.closest(".membership-item-block"),l=e.querySelector(".iid").value,t=e.querySelector(".item-full-name").value,e=e.querySelector(".item-real-price").value;n=[l],$(this).find(".btn-close").show(),this.querySelector(".payment-info .name").innerHTML=t.replace(/(-.+)/,'<span class="d-inline-block">$1</span>'),this.querySelector(".payment-info .price").innerHTML=e,$("#totalAmount").val(e.replace(/\D/g,"")),a&&$("#phase-1,#phase-2").collapse("toggle")}).on("hide.bs.modal","#done-info-modal",function(e){$("#phase-2 .progress-bar").attr("aria-valuenow",0),clearTimeout(l),document.querySelector("#phase-1 form").classList.remove("was-validated"),document.querySelector("#phase-1 form").reset(),$("#inputEmail").trigger("input"),document.querySelector("#phase-3 form").reset(),$("#donationModalLabel").text("후원자 정보"),$("#phase-2 [data-bs-toggle=collapse]").prop("disabled",!0),$("#phase-2,#phase-3").collapse("hide"),$("#phase-1").collapse("show")}),$(document).on("click","#closeDonation",function(){confirm("가입 진행을 취소하시겠습니까?\n진행 중이던 정보는 저장되지 않습니다.")&&$("#done-info-modal").modal("hide")}).on("click","#cancelPayment",function(){confirm("입금 대기 및 처리 중입니다. 가입을 취소하시겠습니까?")&&($("#phase-2 .progress-bar").attr("aria-valuenow",0),clearTimeout(l),$("#phase-1,#phase-2").collapse("toggle"),$("#done-info-modal").modal("hide"))}).on("show.bs.collapse","#phase-1",function(){$("#done-info-modal .btn-close").show(),$("#donationModalLabel").text("후원자 정보")}).on("input","#inputEmail",function(){this.value!=$(".check-email-input").val()&&$(".check-email-input").val(""),$(".check-email-btn").prop("disabled",!this.checkValidity())}).on("click",".check-email-btn",function(){const l=$("#inputEmail").val();$.getJSON("/membership/email/check",{email:l},e=>{$(".check-email-input").val(e?"":l).trigger("input"),$("#paymentForm").addClass("was-validated"),e?$(".check-modal-section").modal("show"):alertModal("사용가능한 E-mail입니다. 가입 진행을 계속해 주세요.")})}).on("input","#phase-1 input",function(){var e=this.form,l=e.querySelector('[type="submit"]');Array.from(e.querySelectorAll("input")).every(e=>e.checkValidity())?(l.toggleAttribute("disabled",!1),$(l).bounce()):l.toggleAttribute("disabled",!0)}).on("submit","#phase-1 form",function(e){e.preventDefault();e=Object.fromEntries(new FormData(this).entries());this.checkValidity()&&postJSON("/temp/membership",e,()=>{$("#phase-1,#phase-2").collapse("toggle")},"가입 처리 중 오류가 발생하였습니다.\nteamoldbyte@gmail.com 로 문의 바랍니다.")}).on("show.bs.collapse","#phase-2",function(){$("#done-info-modal .btn-close").hide(),$("#donationModalLabel").text("송금을 진행해주세요."),clearInterval(l);let e=Number($("#phase-2 .progress-bar").attr("aria-valuenow"));e<100&&(l=setInterval(()=>{e<100?(e++,$("#phase-2 .progress-bar").attr("aria-valuenow",e).width(e+"%"),$("#phase-2 [data-bs-toggle=collapse]").prop("disabled",!0)):$("#phase-2 [data-bs-toggle=collapse]").prop("disabled",!1)},1e3))}).on("show.bs.collapse","#phase-3",function(){a?($('[name="passwd"]').removeAttr("name"),$("#membershipForm").submit()):($("#donationModalLabel").text("회원가입 정보"),this.querySelector('[name="remitter"]').value=this.querySelector('[name="name"]').value=$("#inputName").val().trim(),this.querySelector("[name=email]").value=$("#inputEmail").val().trim(),this.querySelector("[name=phone]").value=$("#inputPhone").val().trim())}).on("input","#passwd,#passwdCheck",function(){this.closest("form").matches(".was-validated")&&$("#passwdCheck").toggleClass("is-invalid",$("#passwd").val()!=$("#passwdCheck").val())}).on("submit","#membershipForm",function(e){e.preventDefault();e=Object.fromEntries(new FormData(this).entries());this.checkValidity()&&($("#passwdCheck").toggleClass("is-invalid",$("#passwd").val()!=$("#passwdCheck").val()),this.querySelector(".is-invalid")||(e.orderItemList=n,postJSON("/membership",e,e=>{Cookies.remove("FMID"),a?alertModal(e+`
'확인'을 누르면 로그아웃 됩니다.
다시 로그인해 주세요.`,()=>document.forms.logout.submit()):alertModal(e+`
'확인'을 누르면 로그인 화면으로 이동합니다.`,()=>location.assign("/auth/login"))},"가입 처리 중 오류가 발생하였습니다.\nteamoldbyte@gmail.com 로 문의 바랍니다.")))}),document.querySelector(".membership-section").appendChild(createElement(s)),document.querySelector(".tandem-layout-content-section").appendChild(createElement([{el:"div",id:"guide-modal",className:"modal fade",tabIndex:"-1",children:[{el:"div",className:"modal-dialog modal-dialog-centered",children:[{el:"div",className:"modal-content",children:[{el:"div",className:"modal-header",children:[{el:"h5",className:"modal-title",textContent:"데스크톱/태블릿 웹 브라우저 접속 지원"},{el:"button",type:"button",className:"btn-close","data-bs-dismiss":"modal",ariaLabel:"Close"}]},{el:"div",className:"modal-body row g-0",children:[{el:"div",className:"col-lg-4 membership-image text-center",children:[{el:"img",alt:"membership",src:"https://static.findsvoc.com/images/app/membership/DDM-12.png"}]},{el:"p",className:"col-lg-8",children:[{el:"b",className:"text-fc-red",textContent:"데스크톱"},"과 ",{el:"b",className:"text-fc-red",textContent:"태블릿"},"에서도 ",{el:"span",className:"app-name-text",textContent:"fico"},"에 접속할 수 있도록 하는 ",{el:"b",textContent:"부가 서비스"},"입니다",{el:"br"},"워크북 등 ",{el:"b",textContent:"콘텐츠 작성"},"이 많거나 보다 ",{el:"b",textContent:"넓은 화면"},"에서 학습하고자 하는 분들에게 추천합니다.",{el:"br"},"findsvoc.com에서 체험해 보세요."]}]}]}]}]},i]))}function postJSON(e,l,t,a){$.ajax({url:e,type:"POST",data:JSON.stringify(l),contentType:"application/json",success:t,error:()=>{alertModal(a,()=>$("#done-info-moal").modal("hide"))}})}